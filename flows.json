[
    {
        "id": "be8b47127d2dae9a",
        "type": "tab",
        "label": "Receive Data",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "931adaceadb9568b",
        "type": "tab",
        "label": "Postgress",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4d871813abe67e19",
        "type": "subflow",
        "name": "MQTT",
        "info": "Recebimento de mensagens via MQTT\n\n---\n\n# **Input**\n> `` Nenhum``\n\n---\n\n# **Output**\n>  ``payload`` com mengem recebida via MQTT\n\n---\n\n",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 1110,
                "y": 480,
                "wires": [
                    {
                        "id": "31bae8d26953c18e",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#CA69F5",
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1060,
            "y": 540,
            "wires": [
                {
                    "id": "c9322375d19e0d08",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "700a3a6d49c04cf6",
        "type": "subflow",
        "name": "Tratamento da mensagem",
        "info": "Tratamento das mensagens de acordo com o topico que foi cadastrada\n\n---\n\n\n# **Input**\n> ``payloads`` em sequencia de mensagem.\n\n---\n\n\n# **Output**\n>  ``payload`` com a junção das demais mensagens de acordo com o topico da mensagem.\n\n---",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "4fbbcb199172eb00"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1390,
                "y": 700,
                "wires": [
                    {
                        "id": "5bdb31c8544d8ca3",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {
            "author": "arthurcoelho442@gmail.com",
            "license": "Apache-2.0"
        },
        "color": "#E2D96E",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1340,
            "y": 640,
            "wires": [
                {
                    "id": "783df273bbfdf31a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "a91be017a6b4c541",
        "type": "subflow",
        "name": "Sincronismo Medições",
        "info": "Atualiza o banco remoto com os dados locais que não foram feitos upload.\n\n---\n\n\n# **Input**\n> Qualquer ``msg`` para iniciar a verificação\n---\n\n\n# **Output**\n> ``Nenhum``\n---\n\n",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "c7de519f8cf38c62"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1140,
            "y": 1560,
            "wires": [
                {
                    "id": "acbee9a99e57962d",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "253960b4a956521f",
        "type": "subflow",
        "name": "Sincronismo Local",
        "info": "Sincroniza as tabelas locais com as tabelas remotas para manter atualização de dados cadastrais\n\n---\n\n\n# **Input**\n> Qualquer ``msg`` para indicar sincronismo\n---\n\n\n# **Output**\n> ``Nenhuma``\n---\n\n",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "e563368fe9d03d5a"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1220,
            "y": 1260,
            "wires": [
                {
                    "id": "5fa006f64ceba2cd",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "859d4550cc1262c7",
        "type": "subflow",
        "name": "Verifica cadastro",
        "info": "Verifica se o mqtt_id do usuario da mensagem esta cadastrado no banco.\n\n---\n\n# **Input**\n> ``msg.payload`` contendo a mensagem e suas respectivas informações.\n---\n\n# **Output**\n> ``msg.payload`` contendo a mensagem, caso o mqtt_id exista e ``Nada`` caso não exista.\n---",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 200,
                "wires": [
                    {
                        "id": "839cda51349b5090"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1170,
                "y": 680,
                "wires": [
                    {
                        "id": "bbcebe520b11270d",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DA0A5D",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1120,
            "y": 620,
            "wires": [
                {
                    "id": "5e9a00e22cd08307",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "13140212a458ba9f",
        "type": "subflow",
        "name": "Sincronismo tamanho banco local",
        "info": "Recebe via ``payload`` a quantidade de dias que o banco deve manter armazanado de dados, os dados mais antigos que ultrapasam essa quantidade são apagados.\n\n---\n\n\n# **Input**\n> ``msg.payload`` indicando a quantidade de dias.\n\n---\n\n\n# **Output**\n> ``Nada``",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 200,
                "wires": [
                    {
                        "id": "f4694370a7d2d8bd"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 880,
            "y": 800,
            "wires": [
                {
                    "id": "85336581200de9cf",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "f8389540c2deee90",
        "type": "subflow",
        "name": "Cria Instancia",
        "info": "Cria a instancia das medições segundo o topico\n\n---\n\n# **Input**\n>Recebe o ``msg.payload`` contendo os dados da medição.\n---\n\n\n# **Output**\n>``msg.payload`` contendo a instancia criada.\n---\n\n",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 200,
                "wires": [
                    {
                        "id": "17963425501aec2c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 930,
                "y": 740,
                "wires": [
                    {
                        "id": "bc58aad156bfa370",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#A52A2A",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 880,
            "y": 800,
            "wires": [
                {
                    "id": "4861f26ce2032af4",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "5e57673b58c0145b",
        "type": "subflow",
        "name": "Envio ao banco",
        "info": "Envia os dados das medições ao banco local e ao banco remoto.\n---\n\n\n# **Input**\n>``msg.payload`` contendo a instaciação do Postgresql.\n---\n\n# **Output**\n>``Nenhum``.\n---\n",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "2d5f087542a6f18e"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 640,
            "y": 420,
            "wires": [
                {
                    "id": "e0b6d36fbce73c31",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "f426d6c988933dc5",
        "type": "subflow",
        "name": "Atualização Checked",
        "info": "",
        "category": "",
        "in": [],
        "out": [],
        "env": [
            {
                "name": "time",
                "type": "num",
                "value": "1",
                "ui": {
                    "icon": "font-awesome/fa-hourglass-2",
                    "label": {
                        "en-US": "minutes"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "num"
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 1100,
            "y": 580,
            "wires": [
                {
                    "id": "1dbf974df28b085c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "56c8bec50d65bf74",
        "type": "subflow",
        "name": "Sincronismo Rele",
        "info": "",
        "category": "",
        "in": [],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#3FADB5",
        "status": {
            "x": 660,
            "y": 600,
            "wires": [
                {
                    "id": "95f6a066c81bef9b",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "4f3abbcb43bb4e2e",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2fe173a7cb0a2a40",
            "119f2f93adb8552d",
            "0372f041345ff56b",
            "07617004c325cdb0",
            "606bc7cf5600faf4",
            "4e6d0bcfdddd096b",
            "0372f041345ff56b"
        ],
        "x": 0,
        "y": 0
    },
    {
        "id": "0372f041345ff56b",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f947e220e412adfe",
            "00ae605e067a75c3"
        ],
        "x": 0,
        "y": 0
    },
    {
        "id": "07617004c325cdb0",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d79888a1a7530cc3",
            "5bb329c128359845",
            "88b47616b03f1c45",
            "590970c68ed4e141",
            "0bf1c5dd8f255c1b",
            "0123b886a978d9a2"
        ],
        "x": 54,
        "y": 239
    },
    {
        "id": "606bc7cf5600faf4",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "54329becedc46d4e",
            "c3388ba8d5261934",
            "3f208d081046dd57",
            "57cf3c526ee8f1d9"
        ],
        "x": 54,
        "y": 419
    },
    {
        "id": "992d439e3483c090",
        "type": "group",
        "z": "4d871813abe67e19",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c9322375d19e0d08",
            "31bae8d26953c18e",
            "eab6b254cf97fa2f",
            "65b6e524dfcc011f",
            "4d5951ea4ab397ae",
            "a3958e421eeef0e5",
            "eab6b254cf97fa2f"
        ],
        "x": null,
        "y": null,
        "w": null,
        "h": null
    },
    {
        "id": "c47b4cecb47e8977",
        "type": "group",
        "z": "13140212a458ba9f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "85336581200de9cf",
            "dfb07c49a6059b12",
            "d6fdd678b783e58d",
            "16f82f8fd13c3beb",
            "a8ac8e13e42761cf",
            "61234c063bf2020a"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "78d4ebd7593f6494",
        "type": "group",
        "z": "859d4550cc1262c7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5e9a00e22cd08307",
            "bbcebe520b11270d",
            "3499e1a980d13d69",
            "f6199cad5a330556",
            "bea096d7270b9735",
            "ae6a3e2562149409"
        ],
        "x": 24,
        "y": 19
    },
    {
        "id": "37b76cd80a734e03",
        "type": "group",
        "z": "700a3a6d49c04cf6",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "783df273bbfdf31a",
            "5bdb31c8544d8ca3",
            "1ffd65b9c32df824",
            "ae8f17072c646d88",
            "52c38c088b4a2502",
            "1085689a9ce787b4",
            "6b89c6580ec466e9"
        ],
        "x": 14,
        "y": 19,
        "w": 1262,
        "h": 728
    },
    {
        "id": "f2f2fd8e9e8c36f8",
        "type": "group",
        "z": "f8389540c2deee90",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bc58aad156bfa370",
            "4861f26ce2032af4",
            "0e484d38e5f89c1c",
            "05e2d61024b37bea",
            "06339746096e3fbc",
            "cdcccaac89e68a8e",
            "bf795e65a30a7cd8"
        ],
        "x": 34,
        "y": 19
    },
    {
        "id": "c40c2e7640717537",
        "type": "group",
        "z": "be8b47127d2dae9a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "953868ccad299d68",
            "3999dab480a92ea8",
            "62fa4aed30d88850",
            "d09e09fa9b3ae0e3"
        ],
        "x": 14,
        "y": 19,
        "w": 678,
        "h": 408
    },
    {
        "id": "cc3c97f3d484924b",
        "type": "group",
        "z": "5e57673b58c0145b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e0b6d36fbce73c31",
            "06c91221f4630677",
            "2a15a8da18c3929e",
            "77ef21baecfe9b42",
            "3127d2befe1ccc4b"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "c685df0d79a580bb",
        "type": "group",
        "z": "931adaceadb9568b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "52adcb2c387cd386",
            "7dd093595f58e4fd",
            "607f473bf32d81d7",
            "fccbce521482cb18",
            "6a5b578dbaf1ed51"
        ],
        "x": 14,
        "y": 19,
        "w": 658,
        "h": 1054
    },
    {
        "id": "8ee8a501575e6051",
        "type": "group",
        "z": "a91be017a6b4c541",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "acbee9a99e57962d",
            "fef3b02fe9e98c8a",
            "1c50dadbad20225c",
            "0c950cd5adf9fefe",
            "e813421a8f6ec978",
            "5a27d54d4a061bc5",
            "45022af0ec688b70",
            "b05456cbb85bac46"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "52527ce70e6a9a73",
        "type": "group",
        "z": "253960b4a956521f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5fa006f64ceba2cd",
            "64ec31acfea7d621",
            "50bdb0acb0741579",
            "efa041bdd83c2aa0",
            "3718b34735e417c3",
            "2a915b9bf5c2b55b",
            "09918de5b43c6af5",
            "ede19e0e8cb47058"
        ],
        "x": 0,
        "y": 0
    },
    {
        "id": "9b994d42ce589a4a",
        "type": "group",
        "z": "f426d6c988933dc5",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1dbf974df28b085c",
            "b010b767d7c23bae",
            "a5ad64106b5e54ef",
            "5c24e7f291fceb2a"
        ],
        "x": 8,
        "y": 13,
        "w": 1028,
        "h": 614
    },
    {
        "id": "da4c8e5819fc89b1",
        "type": "group",
        "z": "56c8bec50d65bf74",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3cb105d010400d7a",
            "c7eaf5d3c5042a56",
            "3e704e660cb2a306",
            "70549bd87a7f49e7",
            "95f6a066c81bef9b"
        ],
        "x": 14,
        "y": 19,
        "w": 718,
        "h": 628
    },
    {
        "id": "eab6b254cf97fa2f",
        "type": "group",
        "z": "4d871813abe67e19",
        "g": "992d439e3483c090",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f6952c1ab545d2a1",
            "f6952c1ab545d2a1",
            "f6952c1ab545d2a1",
            "f6952c1ab545d2a1",
            "f6952c1ab545d2a1",
            "f6952c1ab545d2a1",
            "e9a8e1feccdb9696"
        ],
        "x": null,
        "y": null,
        "w": null,
        "h": null
    },
    {
        "id": "65b6e524dfcc011f",
        "type": "group",
        "z": "4d871813abe67e19",
        "g": "992d439e3483c090",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "180acf1a6e33fd95",
            "e9c020a32d8cdd8c",
            "6a35159a36704db7",
            "dc3c7e7968767043",
            "ac536081b7e31c72",
            "8c0c8f6d854794d5"
        ],
        "x": 54,
        "y": 239,
        "w": 532,
        "h": 162
    },
    {
        "id": "4d5951ea4ab397ae",
        "type": "group",
        "z": "4d871813abe67e19",
        "g": "992d439e3483c090",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dd85709a0f1d5836",
            "16ab76e68562875a",
            "ba9b9284ab7903ac",
            "91e64d48745e45bd"
        ],
        "x": 54,
        "y": 419,
        "w": 412,
        "h": 142
    },
    {
        "id": "1ffd65b9c32df824",
        "type": "group",
        "z": "700a3a6d49c04cf6",
        "g": "37b76cd80a734e03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f3d99fe3ed65e475",
            "1be51c819d8a27c0",
            "ba9832c56541e47c",
            "9dc284fdcbee9e19",
            "8d257f547ffcdb68"
        ],
        "x": 54,
        "y": 259,
        "w": 502,
        "h": 142
    },
    {
        "id": "ae8f17072c646d88",
        "type": "group",
        "z": "700a3a6d49c04cf6",
        "g": "37b76cd80a734e03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7129eaebf07adbbb",
            "6bf536311d805479",
            "4fbbcb199172eb00",
            "d451f3d0a439ed8a"
        ],
        "x": 54,
        "y": 99,
        "w": 552,
        "h": 142
    },
    {
        "id": "52c38c088b4a2502",
        "type": "group",
        "z": "700a3a6d49c04cf6",
        "g": "37b76cd80a734e03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "83e60f1cb339115b",
            "f33e66e38514a8e3",
            "73247cbb42e22b8b",
            "1e8653e51ac8e16f"
        ],
        "x": 54,
        "y": 419,
        "w": 462,
        "h": 142
    },
    {
        "id": "1085689a9ce787b4",
        "type": "group",
        "z": "700a3a6d49c04cf6",
        "g": "37b76cd80a734e03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "925438afe16d28cc",
            "f08d22874a4ed659",
            "053fdb805e7075fd",
            "39f696572f0e02c9"
        ],
        "x": 54,
        "y": 579,
        "w": 402,
        "h": 142
    },
    {
        "id": "50bdb0acb0741579",
        "type": "group",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "01bed83a6b521285",
            "e563368fe9d03d5a",
            "48b741c9258ea909"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "efa041bdd83c2aa0",
        "type": "group",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5fda8e3db555b3c0",
            "204bdd5cef5a3c52",
            "682b3924ef3b27a2",
            "244139b7b5d0a3ed",
            "14cfdd38fe55b1e7",
            "9e9a45e9396d74c4",
            "8507bd14f20e3d4d",
            "92df9f5da97d2671",
            "43ca02c1715b475c",
            "f01a904979c42823",
            "28eb796dd821f014"
        ],
        "x": 0,
        "y": 0
    },
    {
        "id": "3718b34735e417c3",
        "type": "group",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "716eb401c4363d0a",
            "e0b6609abf15b12c",
            "7cd6e20a6f38ed06",
            "0266bc99a954b19b"
        ],
        "x": 54,
        "y": 1139
    },
    {
        "id": "2a915b9bf5c2b55b",
        "type": "group",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4410f8a14dbe6dc9",
            "38d168b6fcbfa5b1",
            "ff133baacf5cf43c",
            "de2f4dd2d05acf47",
            "7ba002b06a501fb3",
            "88e6b41657d63e03"
        ],
        "x": 54,
        "y": 919
    },
    {
        "id": "fef3b02fe9e98c8a",
        "type": "group",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c9072a7b06178478",
            "4ee9dfc09400cfd4",
            "ec18de67089bc9fa",
            "948de3c3cb73e7a4"
        ],
        "x": 54,
        "y": 1439
    },
    {
        "id": "1c50dadbad20225c",
        "type": "group",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fd5079870f09d52f",
            "0548d0e6570a1669",
            "4ff6738361754ba6",
            "8c9a15428e1d2425",
            "887d739a06953403"
        ],
        "x": 54,
        "y": 979
    },
    {
        "id": "0c950cd5adf9fefe",
        "type": "group",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "56133d1c4cc40910",
            "3465b9dec8d101eb",
            "da63384d989dd196",
            "8c71dd1aecb49d6b",
            "e6ee89cb46732b9e",
            "4adfd5e5241621f2",
            "b028e87e7e39e242",
            "fa0de7b18b2f1908",
            "2b73ed130423a26d",
            "a1d90da11ec21f7b",
            "91059a74b03f85ec",
            "c261a51dafd68751",
            "cc69ce370740a762",
            "a968cddcf6612e82",
            "e6b96121d97ede9f",
            "988c4828b335e809",
            "d4cd41fc04e527cc",
            "a57e8bc15d3ae5ed",
            "3fdc11328a62809c",
            "9ef298fb28fa46a3",
            "798d7c5e6467cb96",
            "58c8f702d876d6d1",
            "86530ab702ae65f4",
            "d893d176431ce33c",
            "25bb0f524924c6a8",
            "462942e0fc4b0d11",
            "16981faa21fcb4bc",
            "0dfd8082077ef47e"
        ],
        "x": 54,
        "y": 519
    },
    {
        "id": "e813421a8f6ec978",
        "type": "group",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ae94fd1d0417060d",
            "721bf5cc34a65bd3",
            "ea4cecf3ec40b7d3",
            "87f78fde546a7a13",
            "04e7704f11f66376",
            "03b64c3c81474019",
            "a861caa51d71a71f"
        ],
        "x": 54,
        "y": 319
    },
    {
        "id": "5a27d54d4a061bc5",
        "type": "group",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c7de519f8cf38c62",
            "1dd6df797e8a5dc1",
            "7a2ac8a63866d0b4",
            "193cda4479ca8e1a",
            "87d16e2670e9cbfb",
            "aef6a432dc0c4081"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "45022af0ec688b70",
        "type": "group",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4cbd85a255ef0e18",
            "1f3c6cf1ba973b2c",
            "8934f34aaed0ed25",
            "1bd7bab4682743de",
            "1335cab5344e1ee3",
            "181ed0e66b3f4739",
            "d5823b0099337ef2",
            "71bc639da37956f2"
        ],
        "x": 54,
        "y": 1159
    },
    {
        "id": "3499e1a980d13d69",
        "type": "group",
        "z": "859d4550cc1262c7",
        "g": "78d4ebd7593f6494",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8b1c7bf067dd13ca",
            "56213e3314b6b94d",
            "6d0f972e8a05f834",
            "8a0bfc60f3741020",
            "669a076aa6073527",
            "66a207e1a524552e"
        ],
        "x": 74,
        "y": 519
    },
    {
        "id": "f6199cad5a330556",
        "type": "group",
        "z": "859d4550cc1262c7",
        "g": "78d4ebd7593f6494",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2e6a11a7edcc8c4f",
            "28430ff854600b8b",
            "8b8852b97d66701b",
            "31637b7c55e4d92b",
            "ef0304216c962383",
            "a7b8f54267e5b50c"
        ],
        "x": 74,
        "y": 299
    },
    {
        "id": "bea096d7270b9735",
        "type": "group",
        "z": "859d4550cc1262c7",
        "g": "78d4ebd7593f6494",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "839cda51349b5090",
            "70b529024ffa1fc1",
            "26f996295cf2ab80",
            "1746ad1fdde10cf2",
            "791c0b428a90b4cf"
        ],
        "x": 74,
        "y": 99
    },
    {
        "id": "7dd093595f58e4fd",
        "type": "group",
        "z": "931adaceadb9568b",
        "g": "c685df0d79a580bb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "21161b92b1a9ecc0",
            "e2748eb1f75ea822",
            "b0c78809fa596dd9",
            "822542a0d04da6ba"
        ],
        "x": 54,
        "y": 99,
        "w": 412,
        "h": 142
    },
    {
        "id": "dfb07c49a6059b12",
        "type": "group",
        "z": "13140212a458ba9f",
        "g": "c47b4cecb47e8977",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6fcaec52f297e4f3",
            "07dca4f96fe2ea2d",
            "e9766acb9bc4f3b8",
            "a358d08d2daabd19"
        ],
        "x": 54,
        "y": 519
    },
    {
        "id": "d6fdd678b783e58d",
        "type": "group",
        "z": "13140212a458ba9f",
        "g": "c47b4cecb47e8977",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b82d21ee605f46e9",
            "f9969b521c655741",
            "b120e0a18c5dfb41",
            "f11ac8df773e2fda"
        ],
        "x": 54,
        "y": 679
    },
    {
        "id": "16f82f8fd13c3beb",
        "type": "group",
        "z": "13140212a458ba9f",
        "g": "c47b4cecb47e8977",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f4694370a7d2d8bd",
            "b34dc644e4f22c0a",
            "cd437d96cd008378",
            "415073ab23fd4976",
            "62189f860f6a6b74",
            "ac341ba67da2eb90",
            "2134c4cc8a1cddd1"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "a8ac8e13e42761cf",
        "type": "group",
        "z": "13140212a458ba9f",
        "g": "c47b4cecb47e8977",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6d793e77a5515054",
            "8c18f88e8adb4c62",
            "ca64184d7ccd0711",
            "89423a794cd2c0e1",
            "954c164c4acde5d9"
        ],
        "x": 54,
        "y": 319
    },
    {
        "id": "0e484d38e5f89c1c",
        "type": "group",
        "z": "f8389540c2deee90",
        "g": "f2f2fd8e9e8c36f8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ba116d14e935318f",
            "cb2aa7372204f278",
            "5be185ed4a70d9f6",
            "dad46ba99fd1b430"
        ],
        "x": 74,
        "y": 519
    },
    {
        "id": "05e2d61024b37bea",
        "type": "group",
        "z": "f8389540c2deee90",
        "g": "f2f2fd8e9e8c36f8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "55d8c4e8c4e9aa41",
            "8336394eed824932",
            "8732ebe8d63ddeb9",
            "f754b1477a65f809",
            "1eeccfd649225533",
            "d0e5d8227c710c49"
        ],
        "x": 74,
        "y": 299
    },
    {
        "id": "06339746096e3fbc",
        "type": "group",
        "z": "f8389540c2deee90",
        "g": "f2f2fd8e9e8c36f8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "80d14e70a65c002a",
            "9d0968da34a5b36f",
            "1d471bcfee499090"
        ],
        "x": 74,
        "y": 679
    },
    {
        "id": "cdcccaac89e68a8e",
        "type": "group",
        "z": "f8389540c2deee90",
        "g": "f2f2fd8e9e8c36f8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "77eec103c4dbfd91",
            "17963425501aec2c",
            "f8b8578286854c36",
            "3cc27f6a0db4cedc",
            "4c2c39c11c34a1ee",
            "26ffc099f00e9e52"
        ],
        "x": 74,
        "y": 99
    },
    {
        "id": "fccbce521482cb18",
        "type": "group",
        "z": "931adaceadb9568b",
        "g": "c685df0d79a580bb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0f952b96dec3b75b",
            "6415bba5f2cdb346",
            "13931a2e55f2f219",
            "732b07290594e003",
            "90cf6102c80419ee"
        ],
        "x": 54,
        "y": 259,
        "w": 392,
        "h": 142
    },
    {
        "id": "953868ccad299d68",
        "type": "group",
        "z": "be8b47127d2dae9a",
        "g": "c40c2e7640717537",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d132a9312280b552",
            "b8903dc0db54f5b2"
        ],
        "x": 54,
        "y": 99,
        "w": 212,
        "h": 142
    },
    {
        "id": "3999dab480a92ea8",
        "type": "group",
        "z": "be8b47127d2dae9a",
        "g": "c40c2e7640717537",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d7b13b57944d9954",
            "f24c361803eaa7eb",
            "2b54ca9c1ec4a5ef"
        ],
        "x": 274,
        "y": 99,
        "w": 392,
        "h": 142
    },
    {
        "id": "62fa4aed30d88850",
        "type": "group",
        "z": "be8b47127d2dae9a",
        "g": "c40c2e7640717537",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5882a3c43edd54b4",
            "37aae716f0072d32",
            "0cd6b52cfa023213",
            "cba160b2e772d8bb"
        ],
        "x": 54,
        "y": 259,
        "w": 322,
        "h": 142
    },
    {
        "id": "607f473bf32d81d7",
        "type": "group",
        "z": "931adaceadb9568b",
        "g": "c685df0d79a580bb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5bd567a3626960b8",
            "68642339a807f580",
            "85343d7f3a302696"
        ],
        "x": 54,
        "y": 639,
        "w": 338,
        "h": 408
    },
    {
        "id": "06c91221f4630677",
        "type": "group",
        "z": "5e57673b58c0145b",
        "g": "cc3c97f3d484924b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "39fa80ac0dca8769",
            "9b95aa60873ab8a8",
            "b4ad654a91b02a0c",
            "89c4c51715ad1ca5",
            "20417b93f14f1142",
            "e2ad355b3e0eee47",
            "8681a4e270278ab5",
            "bb824a0ffadbe545"
        ],
        "x": 54,
        "y": 539
    },
    {
        "id": "2a15a8da18c3929e",
        "type": "group",
        "z": "5e57673b58c0145b",
        "g": "cc3c97f3d484924b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d3b36f0bc909ef12",
            "7a437f2f8ee57067",
            "973a08e9e4a95398",
            "c29947c3e3730fa1",
            "c0630573cce0cb93",
            "fe16aafd97055df6"
        ],
        "x": 54,
        "y": 319
    },
    {
        "id": "77ef21baecfe9b42",
        "type": "group",
        "z": "5e57673b58c0145b",
        "g": "cc3c97f3d484924b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2d5f087542a6f18e",
            "20af059900bfcc7d",
            "b9251ac7a1c48645",
            "d812a27c1d316962",
            "f5b8e46bb55cc80d",
            "cfe96fcf6c863990"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "09918de5b43c6af5",
        "type": "group",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4477ccf6a2d2c327",
            "4ffa8c889b17b5ce",
            "879d41a3842a1573",
            "0ad0b615a486cf2a",
            "01b008047368c967",
            "5d0a97e8b48bb988",
            "28a6d1eb691b3b3e",
            "4ff7bfe5d29c429b",
            "22cedf5e7053fdb6",
            "94033b8b3b8e6a3c",
            "11580e17e8f728fc"
        ],
        "x": 0,
        "y": 0
    },
    {
        "id": "ede19e0e8cb47058",
        "type": "group",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "22d942c3a3ca292a",
            "4f1b47a72015a7e3",
            "b20e5935e2cd5bfe",
            "7f750f669aef26f0",
            "e08e74c3626411e1",
            "b83741f37cf74664",
            "cc75efc13177ac67",
            "13e553b92446eef4",
            "c384adeca7836140",
            "f6b7f86640cd2347",
            "9799d8551fefb110"
        ],
        "x": 0,
        "y": 0
    },
    {
        "id": "b010b767d7c23bae",
        "type": "group",
        "z": "f426d6c988933dc5",
        "g": "9b994d42ce589a4a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5f42a41625dcdb8c",
            "640985117de6c0e3",
            "d4bad78f4c41e6a7",
            "37d19d03bbb11fc4"
        ],
        "x": 34,
        "y": 459,
        "w": 402,
        "h": 142
    },
    {
        "id": "a5ad64106b5e54ef",
        "type": "group",
        "z": "f426d6c988933dc5",
        "g": "9b994d42ce589a4a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b0f646b22feabbca",
            "5001c9bbf40707a8",
            "bcab0fcdf8552d21",
            "85ad84c44a545ae3",
            "f5da15f528c662a6",
            "f0a8ec69618d727c"
        ],
        "x": 34,
        "y": 239,
        "w": 472,
        "h": 202
    },
    {
        "id": "5c24e7f291fceb2a",
        "type": "group",
        "z": "f426d6c988933dc5",
        "g": "9b994d42ce589a4a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2aee43b30df8f472",
            "11244b4ae200ab44",
            "09026940208ea299",
            "05b9ea4045c09df1",
            "c71bed8de7de0a65",
            "5af0c25e373c681f",
            "cd787bfbc24ab577",
            "163b146b86acdcdf",
            "4af69bd764fb04f7",
            "e4a3b5e01a84e57b"
        ],
        "x": 34,
        "y": 39,
        "w": 972,
        "h": 182
    },
    {
        "id": "3cb105d010400d7a",
        "type": "group",
        "z": "56c8bec50d65bf74",
        "g": "da4c8e5819fc89b1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bab9f27e973dd65a",
            "c73e0a1b6289864a",
            "4c6419a8d4d61b5e",
            "1f690dec7748f580"
        ],
        "x": 54,
        "y": 479,
        "w": 432,
        "h": 142
    },
    {
        "id": "c7eaf5d3c5042a56",
        "type": "group",
        "z": "56c8bec50d65bf74",
        "g": "da4c8e5819fc89b1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "728285aefd533576",
            "712a030a73b50889",
            "75f9d34664a09f35",
            "12ab4cb0736f0a25",
            "5116d77b81a2c23e",
            "1740e5b425da268b"
        ],
        "x": 54,
        "y": 259,
        "w": 432,
        "h": 202
    },
    {
        "id": "3e704e660cb2a306",
        "type": "group",
        "z": "56c8bec50d65bf74",
        "g": "da4c8e5819fc89b1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3ed1de4499620c43",
            "c6797b217302d46f",
            "309f0aae278b916b",
            "2bd7b50a0f475910",
            "cc1f0406dc679834"
        ],
        "x": 54,
        "y": 99,
        "w": 652,
        "h": 142
    },
    {
        "id": "6a5b578dbaf1ed51",
        "type": "group",
        "z": "931adaceadb9568b",
        "g": "c685df0d79a580bb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9a3261f7202b9fda",
            "f0f8664c0ca5d7d6",
            "a49cb9c753d95ade",
            "f1d3eb303754fab1",
            "7fd4f90f1166b9b0",
            "86e2159e8c2da8e6",
            "4d8d7b88c3ba12ed"
        ],
        "x": 54,
        "y": 419,
        "w": 592,
        "h": 202
    },
    {
        "id": "f6952c1ab545d2a1",
        "type": "group",
        "z": "4d871813abe67e19",
        "g": "eab6b254cf97fa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7a87b338a25d10ec",
            "9ae33f7a22a85268",
            "747c50232bb1819a",
            "14118089d33544fc",
            "573d862a93b235f4",
            "ef75ec8d9448e6db"
        ],
        "x": null,
        "y": null,
        "w": null,
        "h": null
    },
    {
        "id": "68642339a807f580",
        "type": "group",
        "z": "931adaceadb9568b",
        "g": "607f473bf32d81d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "104668f4ef3de46d",
            "8fbbf53bba95807d"
        ],
        "x": 94,
        "y": 719,
        "w": 272,
        "h": 142
    },
    {
        "id": "85343d7f3a302696",
        "type": "group",
        "z": "931adaceadb9568b",
        "g": "607f473bf32d81d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "71e61d7d76bb56f8",
            "ab4c138c241efa2a"
        ],
        "x": 94,
        "y": 879,
        "w": 232,
        "h": 142
    },
    {
        "id": "85fa474230d3c3c0",
        "type": "postgresdb",
        "cfgname": "Local",
        "hostname": "postgres",
        "port": "5432",
        "db": "RFlyD",
        "ssl": false
    },
    {
        "id": "d81826d153985387",
        "type": "mqtt-broker",
        "name": "Raspbarry",
        "broker": "10.145.5.209",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "07603546ee457d35",
        "type": "mqtt-broker",
        "name": "Medidor de Energia",
        "broker": "10.145.5.179",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "c96e79463d186229",
        "type": "postgreSQLConfig",
        "name": "Remoto",
        "host": "6.tcp.ngrok.io",
        "hostFieldType": "str",
        "port": "12153",
        "portFieldType": "num",
        "database": "postgres",
        "databaseFieldType": "str",
        "ssl": "false",
        "sslFieldType": "bool",
        "applicationName": "",
        "applicationNameType": "str",
        "max": "10",
        "maxFieldType": "num",
        "idle": "1000",
        "idleFieldType": "num",
        "connectionTimeout": "10000",
        "connectionTimeoutFieldType": "num",
        "user": "postgres",
        "userFieldType": "str",
        "password": "postgres",
        "passwordFieldType": "str"
    },
    {
        "id": "b2ab184b1234a6ca",
        "type": "mqtt-broker",
        "name": "LoRa",
        "broker": "10.145.5.155",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "67696fea5182b412",
        "type": "postgreSQLConfig",
        "name": "Local",
        "host": "postgres",
        "hostFieldType": "str",
        "port": "5432",
        "portFieldType": "num",
        "database": "postgres",
        "databaseFieldType": "str",
        "ssl": "false",
        "sslFieldType": "bool",
        "applicationName": "",
        "applicationNameType": "str",
        "max": "10",
        "maxFieldType": "num",
        "idle": "1000",
        "idleFieldType": "num",
        "connectionTimeout": "10000",
        "connectionTimeoutFieldType": "num",
        "user": "postgres",
        "userFieldType": "str",
        "password": "postgres",
        "passwordFieldType": "str"
    },
    {
        "id": "cb9ec142af1652fb",
        "type": "postgresdb",
        "cfgname": "NOCS",
        "hostname": "nocs_solucoes.postgresql.dbaas.com.br",
        "port": "5432",
        "db": "nocs_solucoes",
        "ssl": false
    },
    {
        "id": "0e17b715817b5d83",
        "type": "postgresdb",
        "cfgname": "Local",
        "hostname": "postgres",
        "port": "5432",
        "db": "postgres",
        "ssl": false
    },
    {
        "id": "0dcc5967b433a40b",
        "type": "mqtt-broker",
        "name": "ESP",
        "broker": "192.168.1.132",
        "port": "1883",
        "clientid": "node-red",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "9999",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "ef75ec8d9448e6db",
        "type": "switch",
        "z": "4d871813abe67e19",
        "g": "f6952c1ab545d2a1",
        "name": "Não nulos",
        "property": "payload.client",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 180,
        "wires": [
            [
                "573d862a93b235f4"
            ]
        ]
    },
    {
        "id": "14118089d33544fc",
        "type": "switch",
        "z": "4d871813abe67e19",
        "g": "f6952c1ab545d2a1",
        "name": "Existe dados",
        "property": "payload.packet.payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 180,
        "wires": [
            [
                "747c50232bb1819a",
                "9ae33f7a22a85268"
            ]
        ]
    },
    {
        "id": "573d862a93b235f4",
        "type": "switch",
        "z": "4d871813abe67e19",
        "g": "f6952c1ab545d2a1",
        "name": "Esta conectado",
        "property": "payload.client.connected",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 560,
        "y": 180,
        "wires": [
            [
                "14118089d33544fc"
            ]
        ]
    },
    {
        "id": "dd85709a0f1d5836",
        "type": "catch",
        "z": "4d871813abe67e19",
        "g": "4d5951ea4ab397ae",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 520,
        "wires": [
            [
                "ba9b9284ab7903ac"
            ]
        ]
    },
    {
        "id": "747c50232bb1819a",
        "type": "link out",
        "z": "4d871813abe67e19",
        "g": "f6952c1ab545d2a1",
        "name": "status",
        "mode": "link",
        "links": [
            "e9c020a32d8cdd8c"
        ],
        "x": 875,
        "y": 220,
        "wires": []
    },
    {
        "id": "16ab76e68562875a",
        "type": "comment",
        "z": "4d871813abe67e19",
        "g": "4d5951ea4ab397ae",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 460,
        "wires": []
    },
    {
        "id": "180acf1a6e33fd95",
        "type": "comment",
        "z": "4d871813abe67e19",
        "g": "65b6e524dfcc011f",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 280,
        "wires": []
    },
    {
        "id": "e9c020a32d8cdd8c",
        "type": "link in",
        "z": "4d871813abe67e19",
        "g": "65b6e524dfcc011f",
        "name": "status",
        "links": [
            "747c50232bb1819a"
        ],
        "x": 115,
        "y": 340,
        "wires": [
            [
                "dc3c7e7968767043"
            ]
        ]
    },
    {
        "id": "6a35159a36704db7",
        "type": "template",
        "z": "4d871813abe67e19",
        "g": "65b6e524dfcc011f",
        "name": "Conectado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Conectado",
        "output": "str",
        "x": 390,
        "y": 320,
        "wires": [
            [
                "8c0c8f6d854794d5"
            ]
        ]
    },
    {
        "id": "dc3c7e7968767043",
        "type": "switch",
        "z": "4d871813abe67e19",
        "g": "65b6e524dfcc011f",
        "name": "",
        "property": "payload.client.connected",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 340,
        "wires": [
            [
                "6a35159a36704db7"
            ],
            [
                "ac536081b7e31c72"
            ]
        ]
    },
    {
        "id": "ac536081b7e31c72",
        "type": "template",
        "z": "4d871813abe67e19",
        "g": "65b6e524dfcc011f",
        "name": "Desconectado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Desconectado",
        "output": "str",
        "x": 400,
        "y": 360,
        "wires": [
            [
                "8c0c8f6d854794d5"
            ]
        ]
    },
    {
        "id": "c9322375d19e0d08",
        "type": "link in",
        "z": "4d871813abe67e19",
        "g": "992d439e3483c090",
        "name": "status out",
        "links": [
            "8c0c8f6d854794d5",
            "91e64d48745e45bd"
        ],
        "x": 975,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "8c0c8f6d854794d5",
        "type": "link out",
        "z": "4d871813abe67e19",
        "g": "65b6e524dfcc011f",
        "name": "status out",
        "mode": "link",
        "links": [
            "c9322375d19e0d08"
        ],
        "x": 545,
        "y": 320,
        "wires": []
    },
    {
        "id": "31bae8d26953c18e",
        "type": "link in",
        "z": "4d871813abe67e19",
        "g": "992d439e3483c090",
        "name": "out 1",
        "links": [
            "9ae33f7a22a85268"
        ],
        "x": 975,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "9ae33f7a22a85268",
        "type": "link out",
        "z": "4d871813abe67e19",
        "g": "f6952c1ab545d2a1",
        "name": "out 1",
        "mode": "link",
        "links": [
            "31bae8d26953c18e"
        ],
        "x": 875,
        "y": 180,
        "wires": []
    },
    {
        "id": "ba9b9284ab7903ac",
        "type": "template",
        "z": "4d871813abe67e19",
        "g": "4d5951ea4ab397ae",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 520,
        "wires": [
            [
                "91e64d48745e45bd"
            ]
        ]
    },
    {
        "id": "91e64d48745e45bd",
        "type": "link out",
        "z": "4d871813abe67e19",
        "g": "4d5951ea4ab397ae",
        "name": "status out",
        "mode": "link",
        "links": [
            "c9322375d19e0d08"
        ],
        "x": 425,
        "y": 520,
        "wires": []
    },
    {
        "id": "a3958e421eeef0e5",
        "type": "comment",
        "z": "4d871813abe67e19",
        "g": "992d439e3483c090",
        "name": "MQTT",
        "info": "",
        "x": 90,
        "y": 60,
        "wires": []
    },
    {
        "id": "57e4de62cbd330d6",
        "type": "aedes broker",
        "z": "4d871813abe67e19",
        "name": "",
        "mqtt_port": 1883,
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "persistence_bind": "memory",
        "dburl": "",
        "usetls": false,
        "x": 190,
        "y": 180,
        "wires": [
            [],
            [
                "ef75ec8d9448e6db"
            ]
        ]
    },
    {
        "id": "e9a8e1feccdb9696",
        "type": "comment",
        "z": "4d871813abe67e19",
        "g": "eab6b254cf97fa2f",
        "name": "Recebimento",
        "info": "",
        "x": 150,
        "y": 120,
        "wires": []
    },
    {
        "id": "f3d99fe3ed65e475",
        "type": "comment",
        "z": "700a3a6d49c04cf6",
        "g": "1ffd65b9c32df824",
        "name": "Reconfiguração",
        "info": "",
        "x": 160,
        "y": 300,
        "wires": []
    },
    {
        "id": "1be51c819d8a27c0",
        "type": "link out",
        "z": "700a3a6d49c04cf6",
        "g": "1ffd65b9c32df824",
        "name": "Indentificação de Topico",
        "mode": "link",
        "links": [
            "5bdb31c8544d8ca3"
        ],
        "x": 515,
        "y": 360,
        "wires": []
    },
    {
        "id": "925438afe16d28cc",
        "type": "catch",
        "z": "700a3a6d49c04cf6",
        "g": "1085689a9ce787b4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 680,
        "wires": [
            [
                "053fdb805e7075fd"
            ]
        ]
    },
    {
        "id": "f08d22874a4ed659",
        "type": "comment",
        "z": "700a3a6d49c04cf6",
        "g": "1085689a9ce787b4",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 620,
        "wires": []
    },
    {
        "id": "6bf536311d805479",
        "type": "link out",
        "z": "700a3a6d49c04cf6",
        "g": "ae8f17072c646d88",
        "name": "Reconfiguração",
        "mode": "link",
        "links": [
            "8d257f547ffcdb68"
        ],
        "x": 565,
        "y": 200,
        "wires": []
    },
    {
        "id": "7129eaebf07adbbb",
        "type": "comment",
        "z": "700a3a6d49c04cf6",
        "g": "ae8f17072c646d88",
        "name": "Identificação de Topico",
        "info": "",
        "x": 180,
        "y": 140,
        "wires": []
    },
    {
        "id": "83e60f1cb339115b",
        "type": "complete",
        "z": "700a3a6d49c04cf6",
        "g": "52c38c088b4a2502",
        "name": "",
        "scope": [
            "2b409d0b8bba51cc"
        ],
        "uncaught": false,
        "x": 170,
        "y": 520,
        "wires": [
            [
                "f33e66e38514a8e3"
            ]
        ]
    },
    {
        "id": "f33e66e38514a8e3",
        "type": "template",
        "z": "700a3a6d49c04cf6",
        "g": "52c38c088b4a2502",
        "name": "processando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "processando",
        "output": "str",
        "x": 350,
        "y": 520,
        "wires": [
            [
                "73247cbb42e22b8b"
            ]
        ]
    },
    {
        "id": "783df273bbfdf31a",
        "type": "link in",
        "z": "700a3a6d49c04cf6",
        "g": "37b76cd80a734e03",
        "name": "status",
        "links": [
            "73247cbb42e22b8b",
            "39f696572f0e02c9"
        ],
        "x": 1235,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "73247cbb42e22b8b",
        "type": "link out",
        "z": "700a3a6d49c04cf6",
        "g": "52c38c088b4a2502",
        "name": "status",
        "mode": "link",
        "links": [
            "783df273bbfdf31a"
        ],
        "x": 475,
        "y": 520,
        "wires": []
    },
    {
        "id": "1e8653e51ac8e16f",
        "type": "comment",
        "z": "700a3a6d49c04cf6",
        "g": "52c38c088b4a2502",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 460,
        "wires": []
    },
    {
        "id": "053fdb805e7075fd",
        "type": "template",
        "z": "700a3a6d49c04cf6",
        "g": "1085689a9ce787b4",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 680,
        "wires": [
            [
                "39f696572f0e02c9"
            ]
        ]
    },
    {
        "id": "39f696572f0e02c9",
        "type": "link out",
        "z": "700a3a6d49c04cf6",
        "g": "1085689a9ce787b4",
        "name": "status avisos",
        "mode": "link",
        "links": [
            "783df273bbfdf31a"
        ],
        "x": 415,
        "y": 680,
        "wires": []
    },
    {
        "id": "5bdb31c8544d8ca3",
        "type": "link in",
        "z": "700a3a6d49c04cf6",
        "g": "37b76cd80a734e03",
        "name": "out 1",
        "links": [
            "1be51c819d8a27c0"
        ],
        "x": 1235,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "6b89c6580ec466e9",
        "type": "comment",
        "z": "700a3a6d49c04cf6",
        "g": "37b76cd80a734e03",
        "name": "Tratamento",
        "info": "",
        "x": 110,
        "y": 60,
        "wires": []
    },
    {
        "id": "4fbbcb199172eb00",
        "type": "switch",
        "z": "700a3a6d49c04cf6",
        "g": "ae8f17072c646d88",
        "name": "RFID",
        "property": "payload.packet.topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RFID",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 200,
        "wires": [
            [
                "d451f3d0a439ed8a"
            ]
        ]
    },
    {
        "id": "9dc284fdcbee9e19",
        "type": "change",
        "z": "700a3a6d49c04cf6",
        "g": "1ffd65b9c32df824",
        "name": "Reorganiza",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.packet.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 360,
        "wires": [
            [
                "ba9832c56541e47c"
            ]
        ]
    },
    {
        "id": "ba9832c56541e47c",
        "type": "json",
        "z": "700a3a6d49c04cf6",
        "g": "1ffd65b9c32df824",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 410,
        "y": 360,
        "wires": [
            [
                "1be51c819d8a27c0"
            ]
        ]
    },
    {
        "id": "8d257f547ffcdb68",
        "type": "link in",
        "z": "700a3a6d49c04cf6",
        "g": "1ffd65b9c32df824",
        "name": "Reconfiguração",
        "links": [
            "6bf536311d805479"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "9dc284fdcbee9e19"
            ]
        ]
    },
    {
        "id": "d451f3d0a439ed8a",
        "type": "switch",
        "z": "700a3a6d49c04cf6",
        "g": "ae8f17072c646d88",
        "name": "node-red",
        "property": "payload.client.id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "node-red",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 420,
        "y": 200,
        "wires": [
            [],
            [
                "6bf536311d805479"
            ]
        ]
    },
    {
        "id": "c9072a7b06178478",
        "type": "catch",
        "z": "a91be017a6b4c541",
        "g": "fef3b02fe9e98c8a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 1540,
        "wires": [
            [
                "ec18de67089bc9fa"
            ]
        ]
    },
    {
        "id": "4ee9dfc09400cfd4",
        "type": "comment",
        "z": "a91be017a6b4c541",
        "g": "fef3b02fe9e98c8a",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 1480,
        "wires": []
    },
    {
        "id": "ec18de67089bc9fa",
        "type": "template",
        "z": "a91be017a6b4c541",
        "g": "fef3b02fe9e98c8a",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 1540,
        "wires": [
            [
                "948de3c3cb73e7a4"
            ]
        ]
    },
    {
        "id": "948de3c3cb73e7a4",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "fef3b02fe9e98c8a",
        "name": "status erro",
        "mode": "link",
        "links": [
            "acbee9a99e57962d"
        ],
        "x": 425,
        "y": 1540,
        "wires": []
    },
    {
        "id": "c7de519f8cf38c62",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "5a27d54d4a061bc5",
        "name": "Data ultima medição adicionada no remoto",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement WHERE source = 0  ORDER BY date_time_stamp DESC LIMIT 1;",
        "postgreSQLConfig": "c96e79463d186229",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 350,
        "y": 200,
        "wires": [
            [
                "1dd6df797e8a5dc1"
            ]
        ]
    },
    {
        "id": "ae94fd1d0417060d",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "e813421a8f6ec978",
        "name": "pega ID da ultima medição no banco local",
        "query": "SELECT id FROM public.organic_nodes_control_measurement WHERE date_time_stamp = '{{{msg.last_update.date_time_stamp}}}';",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 340,
        "y": 420,
        "wires": [
            [
                "721bf5cc34a65bd3"
            ]
        ]
    },
    {
        "id": "721bf5cc34a65bd3",
        "type": "change",
        "z": "a91be017a6b4c541",
        "g": "e813421a8f6ec978",
        "name": "cria msg.last_update_id",
        "rules": [
            {
                "t": "set",
                "p": "last_update_id",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 420,
        "wires": [
            [
                "87f78fde546a7a13"
            ]
        ]
    },
    {
        "id": "fd5079870f09d52f",
        "type": "function",
        "z": "a91be017a6b4c541",
        "g": "1c50dadbad20225c",
        "name": "instancia",
        "func": "msg.last_update_id.id = msg.last_update_id.id + 1\nmsg.payload = \"\"\n\nmsg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_measurement (date_time_stamp, message_counter, setup_id, source) VALUES('\" + msg.measurement.date_time_stamp + \"', \" + msg.measurement.message_counter + \", \" + msg.measurement.setup_id + \", \" + msg.measurement.source + \");\"\nmsg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_frequencymeasure(frequency, frequency_sf, measurement_id) VALUES(\" + msg.frequency.frequency + \", \" + msg.frequency.frequency_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\nmsg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_sensormeasure(temperature, temperature_sf, measurement_id) VALUES(\" + msg.sensor.temperature + \", \" + msg.sensor.temperature_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\nfor (let energy of msg.energy)\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_energymeasure(phase, current, current_sf, voltage, voltage_sf, measurement_id)VALUES('\" + energy.phase + \"', \" + energy.current + \", \" + energy.current_sf + \", \" + energy.voltage + \", \" + energy.voltage_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\nfor (let power of msg.power)\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_powermeasure(phase, voltage_current_angle, voltage_current_angle_sf, power_factor, active_power, active_power_sf, reactive_power, reactive_power_sf, apparent_power, apparent_power_sf, measurement_id)VALUES('\" + power.phase + \"', \" + power.voltage_current_angle + \", \" + power.voltage_current_angle_sf + \", \" + power.power_factor + \", \" + power.active_power + \", \" + power.active_power_sf + \", \" + power.reactive_power + \", \" + power.reactive_power_sf + \", \" + power.apparent_power + \", \" + power.apparent_power_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\nif (typeof msg.voltagelag != \"undefined\")\n    for (let voltagelag of msg.voltagelag)\n        msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_voltagelagmeasure(angle, angle_sf, phase_combination, measurement_id)VALUES(\" + voltagelag.angle + \", \" + voltagelag.angle_sf + \", '\" + voltagelag.phase_combination + \"', (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\n\nmsg.queryParameters = msg.payload\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 1080,
        "wires": [
            [
                "4ff6738361754ba6",
                "0548d0e6570a1669"
            ]
        ]
    },
    {
        "id": "1dd6df797e8a5dc1",
        "type": "function",
        "z": "a91be017a6b4c541",
        "g": "5a27d54d4a061bc5",
        "name": "cria msg.last_update",
        "func": "msg.last_update = JSON.parse(JSON.stringify(msg.payload[0]))\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 200,
        "wires": [
            [
                "7a2ac8a63866d0b4"
            ]
        ]
    },
    {
        "id": "56133d1c4cc40910",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Pega medição",
        "query": "SELECT * FROM public.organic_nodes_control_measurement WHERE id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 260,
        "y": 620,
        "wires": [
            [
                "e6b96121d97ede9f"
            ]
        ]
    },
    {
        "id": "3465b9dec8d101eb",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Pega power",
        "query": "SELECT * FROM public.organic_nodes_control_powermeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 250,
        "y": 740,
        "wires": [
            [
                "da63384d989dd196"
            ]
        ]
    },
    {
        "id": "da63384d989dd196",
        "type": "change",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "cria msg.power (ABC)",
        "rules": [
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 740,
        "wires": [
            [
                "86530ab702ae65f4"
            ]
        ]
    },
    {
        "id": "8c71dd1aecb49d6b",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Pega sensor",
        "query": "SELECT * FROM public.organic_nodes_control_sensormeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 250,
        "y": 800,
        "wires": [
            [
                "e6ee89cb46732b9e"
            ]
        ]
    },
    {
        "id": "e6ee89cb46732b9e",
        "type": "change",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "cria msg.sensor",
        "rules": [
            {
                "t": "set",
                "p": "sensor",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 800,
        "wires": [
            [
                "d893d176431ce33c"
            ]
        ]
    },
    {
        "id": "4adfd5e5241621f2",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Pega voltagelag",
        "query": "SELECT * FROM public.organic_nodes_control_voltagelagmeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 260,
        "y": 860,
        "wires": [
            [
                "b028e87e7e39e242"
            ]
        ]
    },
    {
        "id": "b028e87e7e39e242",
        "type": "change",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "cria msg.voltagelag (ABC)",
        "rules": [
            {
                "t": "set",
                "p": "voltagelag",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 860,
        "wires": [
            [
                "25bb0f524924c6a8"
            ]
        ]
    },
    {
        "id": "fa0de7b18b2f1908",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Pega frequency",
        "query": "SELECT * FROM public.organic_nodes_control_frequencymeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 260,
        "y": 680,
        "wires": [
            [
                "2b73ed130423a26d"
            ]
        ]
    },
    {
        "id": "2b73ed130423a26d",
        "type": "change",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "cria msg.frequency",
        "rules": [
            {
                "t": "set",
                "p": "frequency",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 680,
        "wires": [
            [
                "58c8f702d876d6d1"
            ]
        ]
    },
    {
        "id": "a1d90da11ec21f7b",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Pega energy",
        "query": "SELECT * FROM public.organic_nodes_control_energymeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 250,
        "y": 920,
        "wires": [
            [
                "91059a74b03f85ec"
            ]
        ]
    },
    {
        "id": "91059a74b03f85ec",
        "type": "change",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "cria msg.energy (ABC)",
        "rules": [
            {
                "t": "set",
                "p": "energy",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 920,
        "wires": [
            [
                "462942e0fc4b0d11"
            ]
        ]
    },
    {
        "id": "ea4cecf3ec40b7d3",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "e813421a8f6ec978",
        "name": "Medições",
        "mode": "link",
        "links": [
            "c261a51dafd68751"
        ],
        "x": 1005,
        "y": 420,
        "wires": []
    },
    {
        "id": "c261a51dafd68751",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Medições",
        "links": [
            "ea4cecf3ec40b7d3",
            "4ff6738361754ba6"
        ],
        "x": 125,
        "y": 620,
        "wires": [
            [
                "56133d1c4cc40910"
            ]
        ]
    },
    {
        "id": "4ff6738361754ba6",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "1c50dadbad20225c",
        "name": "Medições",
        "mode": "link",
        "links": [
            "c261a51dafd68751"
        ],
        "x": 375,
        "y": 1060,
        "wires": []
    },
    {
        "id": "cc69ce370740a762",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Verifica se já existe",
        "query": "SELECT * FROM public.organic_nodes_control_measurement WHERE(message_counter = {{{msg.measurement.message_counter}}} AND date_time_stamp = '{{{msg.measurement.date_time_stamp}}}')",
        "postgreSQLConfig": "c96e79463d186229",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 710,
        "y": 620,
        "wires": [
            [
                "a968cddcf6612e82"
            ]
        ]
    },
    {
        "id": "a968cddcf6612e82",
        "type": "switch",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 620,
        "wires": [
            [
                "0dfd8082077ef47e"
            ],
            [
                "16981faa21fcb4bc"
            ]
        ]
    },
    {
        "id": "e6b96121d97ede9f",
        "type": "function",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "cria msg.measurement",
        "func": "if (msg.payload.length){\n    msg.measurement = JSON.parse(JSON.stringify(msg.payload[0]))\n    return msg;\n}else{\n    global.set(\"sincronizando_remoto\", false);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 620,
        "wires": [
            [
                "cc69ce370740a762"
            ]
        ]
    },
    {
        "id": "7a2ac8a63866d0b4",
        "type": "postgresql",
        "z": "a91be017a6b4c541",
        "g": "5a27d54d4a061bc5",
        "name": "Data ultima medição adicionada no local",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement WHERE source = 0  ORDER BY date_time_stamp DESC LIMIT 1;",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "193cda4479ca8e1a"
            ]
        ]
    },
    {
        "id": "193cda4479ca8e1a",
        "type": "function",
        "z": "a91be017a6b4c541",
        "g": "5a27d54d4a061bc5",
        "name": "cria msg.last_upload",
        "func": "try{\n    msg.last_upload = JSON.parse(JSON.stringify(msg.payload[0]))\n\n\n    if (msg.last_upload.date_time_stamp != msg.last_update.date_time_stamp){\n        global.set(\"sincronizando_remoto\", true)\n        return msg;\n    }else {\n        global.set(\"sincronizando_remoto\", false)\n    }\n} catch(e){}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 260,
        "wires": [
            [
                "aef6a432dc0c4081"
            ]
        ]
    },
    {
        "id": "87f78fde546a7a13",
        "type": "function",
        "z": "a91be017a6b4c541",
        "g": "e813421a8f6ec978",
        "name": "incrementa",
        "func": "msg.last_update_id.id = msg.last_update_id.id + 1\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 420,
        "wires": [
            [
                "ea4cecf3ec40b7d3"
            ]
        ]
    },
    {
        "id": "87d16e2670e9cbfb",
        "type": "comment",
        "z": "a91be017a6b4c541",
        "g": "5a27d54d4a061bc5",
        "name": "Verifica date",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "04e7704f11f66376",
        "type": "comment",
        "z": "a91be017a6b4c541",
        "g": "e813421a8f6ec978",
        "name": "Pega identificador local referente a ultima medição remota",
        "info": "",
        "x": 290,
        "y": 360,
        "wires": []
    },
    {
        "id": "988c4828b335e809",
        "type": "comment",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "Pega todas as medições",
        "info": "",
        "x": 190,
        "y": 560,
        "wires": []
    },
    {
        "id": "8c9a15428e1d2425",
        "type": "comment",
        "z": "a91be017a6b4c541",
        "g": "1c50dadbad20225c",
        "name": "Adiciona medições ao Banco remoto",
        "info": "",
        "x": 220,
        "y": 1020,
        "wires": []
    },
    {
        "id": "03b64c3c81474019",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "e813421a8f6ec978",
        "name": "Peda ID",
        "links": [
            "aef6a432dc0c4081"
        ],
        "x": 115,
        "y": 420,
        "wires": [
            [
                "ae94fd1d0417060d"
            ]
        ]
    },
    {
        "id": "aef6a432dc0c4081",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "5a27d54d4a061bc5",
        "name": "Peda ID",
        "mode": "link",
        "links": [
            "03b64c3c81474019"
        ],
        "x": 825,
        "y": 260,
        "wires": []
    },
    {
        "id": "d4cd41fc04e527cc",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "frequency",
        "links": [
            "16981faa21fcb4bc"
        ],
        "x": 125,
        "y": 680,
        "wires": [
            [
                "fa0de7b18b2f1908"
            ]
        ]
    },
    {
        "id": "a57e8bc15d3ae5ed",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "power",
        "links": [
            "58c8f702d876d6d1"
        ],
        "x": 125,
        "y": 740,
        "wires": [
            [
                "3465b9dec8d101eb"
            ]
        ]
    },
    {
        "id": "3fdc11328a62809c",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "sensor",
        "links": [
            "86530ab702ae65f4"
        ],
        "x": 125,
        "y": 800,
        "wires": [
            [
                "8c71dd1aecb49d6b"
            ]
        ]
    },
    {
        "id": "9ef298fb28fa46a3",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "voltage_lag",
        "links": [
            "d893d176431ce33c"
        ],
        "x": 125,
        "y": 860,
        "wires": [
            [
                "4adfd5e5241621f2"
            ]
        ]
    },
    {
        "id": "798d7c5e6467cb96",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "energy",
        "links": [
            "25bb0f524924c6a8"
        ],
        "x": 125,
        "y": 920,
        "wires": [
            [
                "a1d90da11ec21f7b"
            ]
        ]
    },
    {
        "id": "58c8f702d876d6d1",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "power",
        "mode": "link",
        "links": [
            "a57e8bc15d3ae5ed"
        ],
        "x": 685,
        "y": 680,
        "wires": []
    },
    {
        "id": "86530ab702ae65f4",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "sensor",
        "mode": "link",
        "links": [
            "3fdc11328a62809c"
        ],
        "x": 685,
        "y": 740,
        "wires": []
    },
    {
        "id": "d893d176431ce33c",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "voltage_lag",
        "mode": "link",
        "links": [
            "9ef298fb28fa46a3"
        ],
        "x": 685,
        "y": 800,
        "wires": []
    },
    {
        "id": "25bb0f524924c6a8",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "energy",
        "mode": "link",
        "links": [
            "798d7c5e6467cb96"
        ],
        "x": 685,
        "y": 860,
        "wires": []
    },
    {
        "id": "462942e0fc4b0d11",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "banco",
        "mode": "link",
        "links": [
            "887d739a06953403"
        ],
        "x": 685,
        "y": 920,
        "wires": []
    },
    {
        "id": "887d739a06953403",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "1c50dadbad20225c",
        "name": "banco",
        "links": [
            "462942e0fc4b0d11"
        ],
        "x": 135,
        "y": 1080,
        "wires": [
            [
                "fd5079870f09d52f"
            ]
        ]
    },
    {
        "id": "16981faa21fcb4bc",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "frequency",
        "mode": "link",
        "links": [
            "d4cd41fc04e527cc"
        ],
        "x": 1005,
        "y": 640,
        "wires": []
    },
    {
        "id": "a861caa51d71a71f",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "e813421a8f6ec978",
        "name": "incremento",
        "links": [
            "0dfd8082077ef47e"
        ],
        "x": 745,
        "y": 460,
        "wires": [
            [
                "87f78fde546a7a13"
            ]
        ]
    },
    {
        "id": "0dfd8082077ef47e",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "0c950cd5adf9fefe",
        "name": "incremento",
        "mode": "link",
        "links": [
            "a861caa51d71a71f"
        ],
        "x": 1005,
        "y": 600,
        "wires": []
    },
    {
        "id": "acbee9a99e57962d",
        "type": "link in",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "name": "status",
        "links": [
            "8934f34aaed0ed25",
            "948de3c3cb73e7a4",
            "e279f7dad76b662c"
        ],
        "x": 1035,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "4cbd85a255ef0e18",
        "type": "comment",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 1200,
        "wires": []
    },
    {
        "id": "1f3c6cf1ba973b2c",
        "type": "template",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "Atualizando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Atualizando...",
        "output": "str",
        "x": 350,
        "y": 1260,
        "wires": [
            [
                "8934f34aaed0ed25"
            ]
        ]
    },
    {
        "id": "8934f34aaed0ed25",
        "type": "link out",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "status Atualizando",
        "mode": "link",
        "links": [
            "acbee9a99e57962d"
        ],
        "x": 485,
        "y": 1260,
        "wires": []
    },
    {
        "id": "1bd7bab4682743de",
        "type": "template",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "Finalizado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Finalizado",
        "output": "str",
        "x": 350,
        "y": 1320,
        "wires": [
            [
                "8934f34aaed0ed25"
            ]
        ]
    },
    {
        "id": "1335cab5344e1ee3",
        "type": "complete",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "",
        "scope": [
            "fd5079870f09d52f"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1320,
        "wires": [
            [
                "1bd7bab4682743de"
            ]
        ]
    },
    {
        "id": "181ed0e66b3f4739",
        "type": "complete",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "",
        "scope": [
            "ae94fd1d0417060d"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1260,
        "wires": [
            [
                "1f3c6cf1ba973b2c"
            ]
        ]
    },
    {
        "id": "d5823b0099337ef2",
        "type": "complete",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "",
        "scope": [
            "193cda4479ca8e1a"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1380,
        "wires": [
            [
                "71bc639da37956f2"
            ]
        ]
    },
    {
        "id": "71bc639da37956f2",
        "type": "template",
        "z": "a91be017a6b4c541",
        "g": "45022af0ec688b70",
        "name": "Sincronizado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sincronizado",
        "output": "str",
        "x": 350,
        "y": 1380,
        "wires": [
            [
                "8934f34aaed0ed25"
            ]
        ]
    },
    {
        "id": "b05456cbb85bac46",
        "type": "comment",
        "z": "a91be017a6b4c541",
        "g": "8ee8a501575e6051",
        "name": "Sincroniza o banco remoto com os dados do banco local",
        "info": "",
        "x": 250,
        "y": 60,
        "wires": []
    },
    {
        "id": "7a87b338a25d10ec",
        "type": "aedes broker",
        "z": "a91be017a6b4c541",
        "g": "f6952c1ab545d2a1",
        "name": "",
        "mqtt_port": 1883,
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "dburl": "",
        "usetls": false,
        "x": 230,
        "y": 260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "0548d0e6570a1669",
        "type": "postgres",
        "z": "a91be017a6b4c541",
        "g": "1c50dadbad20225c",
        "postgresdb": "cb9ec142af1652fb",
        "name": "NOCS",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 410,
        "y": 1100,
        "wires": []
    },
    {
        "id": "8507bd14f20e3d4d",
        "type": "postgres",
        "z": "a91be017a6b4c541",
        "g": "efa041bdd83c2aa0",
        "postgresdb": "0e17b715817b5d83",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 990,
        "y": 420,
        "wires": []
    },
    {
        "id": "4ff7bfe5d29c429b",
        "type": "postgres",
        "z": "a91be017a6b4c541",
        "g": "09918de5b43c6af5",
        "postgresdb": "0e17b715817b5d83",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 990,
        "y": 640,
        "wires": []
    },
    {
        "id": "13e553b92446eef4",
        "type": "postgres",
        "z": "a91be017a6b4c541",
        "g": "ede19e0e8cb47058",
        "postgresdb": "0e17b715817b5d83",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 990,
        "y": 860,
        "wires": []
    },
    {
        "id": "8c18f88e8adb4c62",
        "type": "postgres",
        "z": "a91be017a6b4c541",
        "g": "a8ac8e13e42761cf",
        "postgresdb": "0e17b715817b5d83",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 430,
        "y": 460,
        "wires": []
    },
    {
        "id": "20af059900bfcc7d",
        "type": "postgres",
        "z": "a91be017a6b4c541",
        "g": "77ef21baecfe9b42",
        "postgresdb": "cb9ec142af1652fb",
        "name": "NOCS",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 450,
        "y": 180,
        "wires": []
    },
    {
        "id": "b9251ac7a1c48645",
        "type": "postgres",
        "z": "a91be017a6b4c541",
        "g": "77ef21baecfe9b42",
        "postgresdb": "0e17b715817b5d83",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 450,
        "y": 220,
        "wires": []
    },
    {
        "id": "5fda8e3db555b3c0",
        "type": "postgresql",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "Remoto",
        "query": "SELECT * FROM public.product WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "c96e79463d186229",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 400,
        "y": 360,
        "wires": [
            [
                "204bdd5cef5a3c52"
            ]
        ]
    },
    {
        "id": "204bdd5cef5a3c52",
        "type": "change",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "cria msg.remoto",
        "rules": [
            {
                "t": "set",
                "p": "remoto",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 360,
        "wires": [
            [
                "244139b7b5d0a3ed"
            ]
        ]
    },
    {
        "id": "682b3924ef3b27a2",
        "type": "comment",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "product",
        "info": "",
        "x": 130,
        "y": 300,
        "wires": []
    },
    {
        "id": "244139b7b5d0a3ed",
        "type": "postgresql",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "Local",
        "query": "SELECT * FROM public.product WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 420,
        "wires": [
            [
                "14cfdd38fe55b1e7"
            ]
        ]
    },
    {
        "id": "14cfdd38fe55b1e7",
        "type": "change",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 420,
        "wires": [
            [
                "f01a904979c42823"
            ]
        ]
    },
    {
        "id": "48b741c9258ea909",
        "type": "comment",
        "z": "253960b4a956521f",
        "g": "50bdb0acb0741579",
        "name": "Entrada",
        "info": "",
        "x": 130,
        "y": 140,
        "wires": []
    },
    {
        "id": "9e9a45e9396d74c4",
        "type": "link in",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "access_user",
        "links": [
            "43ca02c1715b475c",
            "01bed83a6b521285"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "28eb796dd821f014"
            ]
        ]
    },
    {
        "id": "01bed83a6b521285",
        "type": "link out",
        "z": "253960b4a956521f",
        "g": "50bdb0acb0741579",
        "name": "loop",
        "mode": "link",
        "links": [
            "08d5038231a82483",
            "1dbcec2c2e281356",
            "1e3e8e8b79c1d1b1",
            "4212ca74f6fe6925",
            "4eb69295d4e3be47",
            "55d44e3a3b6f493a",
            "6063254271dbe2f8",
            "67a1237aa8db2ef2",
            "68c2dd9382fd801d",
            "c2e208e816e1214d",
            "28a6d1eb691b3b3e",
            "9e9a45e9396d74c4",
            "ceab5f64bb45b087",
            "d06c2278f6cdc2f2",
            "d28711ca27a38fcf",
            "d637ab39ad04abc3",
            "cc75efc13177ac67"
        ],
        "x": 425,
        "y": 200,
        "wires": []
    },
    {
        "id": "92df9f5da97d2671",
        "type": "switch",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "",
        "property": "product",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 380,
        "wires": [
            [
                "43ca02c1715b475c"
            ]
        ]
    },
    {
        "id": "43ca02c1715b475c",
        "type": "link out",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "access_user",
        "mode": "link",
        "links": [
            "9e9a45e9396d74c4"
        ],
        "x": 1095,
        "y": 380,
        "wires": []
    },
    {
        "id": "f01a904979c42823",
        "type": "function",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"product\") | 0\ncount = count + 1;\nglobal.set(\"product\", count)\n\nmsg.payload = \"\"\n\nlet product_remoto = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet product_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof product_local != \"undefined\"){\n    if (typeof product_remoto == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.product WHERE id = \" + product_local.id +\";\"\n    else if (JSON.stringify(product_remoto) != JSON.stringify(product_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.product SET id = \" + product_remoto.id + \", name = '\" + product_remoto.name + \"', type = '\" + product_remoto.type + \"', cost = \" + product_remoto.cost + \", image = '\" + product_remoto.image + \"', description = '\" + product_remoto.description + \"' WHERE id = \"+product_local.id+\";\"\n}\nelse if (typeof product_remoto != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.product VALUES('\" + product_remoto.name + \"', '\" + product_remoto.type + \"', \" + product_remoto.cost + \", '\" + product_remoto.image + \"', '\" + product_remoto.description + \"', \" + product_remoto.id + \");\"\nelse\n    global.set(\"product\", 1)\n    \nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 420,
        "wires": [
            [
                "92df9f5da97d2671"
            ]
        ]
    },
    {
        "id": "28eb796dd821f014",
        "type": "function",
        "z": "253960b4a956521f",
        "g": "efa041bdd83c2aa0",
        "name": "contador",
        "func": "msg.contador = global.get(\"product\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"product\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 360,
        "wires": [
            [
                "5fda8e3db555b3c0"
            ]
        ]
    },
    {
        "id": "e563368fe9d03d5a",
        "type": "stoptimer",
        "z": "253960b4a956521f",
        "g": "50bdb0acb0741579",
        "duration": "1",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "espera atalização",
        "x": 270,
        "y": 200,
        "wires": [
            [
                "01bed83a6b521285"
            ],
            []
        ]
    },
    {
        "id": "716eb401c4363d0a",
        "type": "catch",
        "z": "253960b4a956521f",
        "g": "3718b34735e417c3",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 1240,
        "wires": [
            [
                "7cd6e20a6f38ed06"
            ]
        ]
    },
    {
        "id": "e0b6609abf15b12c",
        "type": "comment",
        "z": "253960b4a956521f",
        "g": "3718b34735e417c3",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 1180,
        "wires": []
    },
    {
        "id": "7cd6e20a6f38ed06",
        "type": "template",
        "z": "253960b4a956521f",
        "g": "3718b34735e417c3",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 1240,
        "wires": [
            [
                "0266bc99a954b19b"
            ]
        ]
    },
    {
        "id": "0266bc99a954b19b",
        "type": "link out",
        "z": "253960b4a956521f",
        "g": "3718b34735e417c3",
        "name": "status erro",
        "mode": "link",
        "links": [
            "5fa006f64ceba2cd"
        ],
        "x": 415,
        "y": 1240,
        "wires": []
    },
    {
        "id": "4410f8a14dbe6dc9",
        "type": "comment",
        "z": "253960b4a956521f",
        "g": "2a915b9bf5c2b55b",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 960,
        "wires": []
    },
    {
        "id": "38d168b6fcbfa5b1",
        "type": "template",
        "z": "253960b4a956521f",
        "g": "2a915b9bf5c2b55b",
        "name": "Atualizando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Atualizando...",
        "output": "str",
        "x": 350,
        "y": 1020,
        "wires": [
            [
                "ff133baacf5cf43c"
            ]
        ]
    },
    {
        "id": "ff133baacf5cf43c",
        "type": "link out",
        "z": "253960b4a956521f",
        "g": "2a915b9bf5c2b55b",
        "name": "status Atualizando",
        "mode": "link",
        "links": [
            "5fa006f64ceba2cd"
        ],
        "x": 485,
        "y": 1020,
        "wires": []
    },
    {
        "id": "de2f4dd2d05acf47",
        "type": "complete",
        "z": "253960b4a956521f",
        "g": "2a915b9bf5c2b55b",
        "name": "",
        "scope": [
            "5fda8e3db555b3c0",
            "244139b7b5d0a3ed",
            "4477ccf6a2d2c327",
            "0ad0b615a486cf2a",
            "22d942c3a3ca292a",
            "7f750f669aef26f0"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1020,
        "wires": [
            [
                "38d168b6fcbfa5b1"
            ]
        ]
    },
    {
        "id": "7ba002b06a501fb3",
        "type": "template",
        "z": "253960b4a956521f",
        "g": "2a915b9bf5c2b55b",
        "name": "Finalizado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Finalizado",
        "output": "str",
        "x": 350,
        "y": 1080,
        "wires": [
            [
                "ff133baacf5cf43c"
            ]
        ]
    },
    {
        "id": "88e6b41657d63e03",
        "type": "complete",
        "z": "253960b4a956521f",
        "g": "2a915b9bf5c2b55b",
        "name": "",
        "scope": [
            "f01a904979c42823",
            "5d0a97e8b48bb988",
            "b83741f37cf74664"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1080,
        "wires": [
            [
                "7ba002b06a501fb3"
            ]
        ]
    },
    {
        "id": "5fa006f64ceba2cd",
        "type": "link in",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "name": "status",
        "links": [
            "257e65e651a12260",
            "0266bc99a954b19b",
            "ff133baacf5cf43c"
        ],
        "x": 1115,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "64ec31acfea7d621",
        "type": "comment",
        "z": "253960b4a956521f",
        "g": "52527ce70e6a9a73",
        "name": "Responsavel por manter as tabelas locais sincronizadas",
        "info": "",
        "x": 240,
        "y": 60,
        "wires": []
    },
    {
        "id": "4477ccf6a2d2c327",
        "type": "postgresql",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "Remoto",
        "query": "SELECT * FROM public.product_identification WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "c96e79463d186229",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 400,
        "y": 580,
        "wires": [
            [
                "4ffa8c889b17b5ce"
            ]
        ]
    },
    {
        "id": "4ffa8c889b17b5ce",
        "type": "change",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "cria msg.remoto",
        "rules": [
            {
                "t": "set",
                "p": "remoto",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 580,
        "wires": [
            [
                "0ad0b615a486cf2a"
            ]
        ]
    },
    {
        "id": "879d41a3842a1573",
        "type": "comment",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "product_identification",
        "info": "",
        "x": 180,
        "y": 520,
        "wires": []
    },
    {
        "id": "0ad0b615a486cf2a",
        "type": "postgresql",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "Local",
        "query": "SELECT * FROM public.product_identification WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 640,
        "wires": [
            [
                "01b008047368c967"
            ]
        ]
    },
    {
        "id": "01b008047368c967",
        "type": "change",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 640,
        "wires": [
            [
                "5d0a97e8b48bb988"
            ]
        ]
    },
    {
        "id": "5d0a97e8b48bb988",
        "type": "function",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"product_identification\") | 0\ncount = count + 1;\nglobal.set(\"product_identification\", count)\n\nmsg.payload = \"\"\n\nlet product_identification_remoto = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet product_identification_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof product_identification_local != \"undefined\") {\n    if (typeof product_identification_remoto == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.product_identification WHERE id = \" + product_identification_local.id + \";\"\n    else if (JSON.stringify(product_identification_remoto) != JSON.stringify(product_identification_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.product_identification SET id = \" + product_identification_remoto.id + \", cody_RFID = '\" + product_identification_remoto.cody_RFID + \"', registration_date = '\" + product_identification_remoto.registration_date + \"', valide_date = '\" + product_identification_remoto.valide_date + \"', checked = \" + product_identification_remoto.checked + \"', product_id = \" + product_identification_remoto.product_id + \"' WHERE id = \" + product_identification_local.id + \";\"\n}\nelse if (typeof product_identification_remoto != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.product_identification VALUES('\" + product_identification_remoto.cody_RFID + \"', '\" + product_identification_remoto.registration_date + \"', '\" + product_identification_remoto.valide_date + \"', '\" + product_identification_remoto.checked + \"', '\" + product_identification_remoto.id + \"', \" + product_identification_remoto.product_id + \");\"\n\nelse\n    global.set(\"product_identification\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 640,
        "wires": [
            [
                "22cedf5e7053fdb6"
            ]
        ]
    },
    {
        "id": "28a6d1eb691b3b3e",
        "type": "link in",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "country",
        "links": [
            "94033b8b3b8e6a3c",
            "01bed83a6b521285"
        ],
        "x": 115,
        "y": 580,
        "wires": [
            [
                "11580e17e8f728fc"
            ]
        ]
    },
    {
        "id": "22cedf5e7053fdb6",
        "type": "switch",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "",
        "property": "product_identification",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 600,
        "wires": [
            [
                "94033b8b3b8e6a3c"
            ]
        ]
    },
    {
        "id": "94033b8b3b8e6a3c",
        "type": "link out",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "country",
        "mode": "link",
        "links": [
            "28a6d1eb691b3b3e"
        ],
        "x": 1095,
        "y": 600,
        "wires": []
    },
    {
        "id": "11580e17e8f728fc",
        "type": "function",
        "z": "253960b4a956521f",
        "g": "09918de5b43c6af5",
        "name": "contador",
        "func": "msg.contador = global.get(\"product_identification\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"product_identification\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 580,
        "wires": [
            [
                "4477ccf6a2d2c327"
            ]
        ]
    },
    {
        "id": "22d942c3a3ca292a",
        "type": "postgresql",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "Remoto",
        "query": "SELECT * FROM public.historic WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "c96e79463d186229",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 400,
        "y": 800,
        "wires": [
            [
                "4f1b47a72015a7e3"
            ]
        ]
    },
    {
        "id": "4f1b47a72015a7e3",
        "type": "change",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "cria msg.remoto",
        "rules": [
            {
                "t": "set",
                "p": "remoto",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 800,
        "wires": [
            [
                "7f750f669aef26f0"
            ]
        ]
    },
    {
        "id": "b20e5935e2cd5bfe",
        "type": "comment",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "historic",
        "info": "",
        "x": 130,
        "y": 740,
        "wires": []
    },
    {
        "id": "7f750f669aef26f0",
        "type": "postgresql",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "Local",
        "query": "SELECT * FROM public.historic WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 860,
        "wires": [
            [
                "e08e74c3626411e1"
            ]
        ]
    },
    {
        "id": "e08e74c3626411e1",
        "type": "change",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 860,
        "wires": [
            [
                "b83741f37cf74664"
            ]
        ]
    },
    {
        "id": "b83741f37cf74664",
        "type": "function",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"historic\") | 0\ncount = count + 1;\nglobal.set(\"historic\", count)\n\nmsg.payload = \"\"\n\nlet historic_remoto = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet historic_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof historic_local != \"undefined\") {\n    if (typeof historic_remoto == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.historic WHERE id = \" + historic_local.id + \";\"\n    else if (JSON.stringify(historic_remoto) != JSON.stringify(historic_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.historic SET id = \" + historic_remoto.id + \", date = '\" + historic_remoto.date + \"', hall = \" + historic_remoto.hall + \", shelf = \" + historic_remoto.shelf + \", position = \" + historic_remoto.position + \", product_identification_id = '\" + historic_remoto.product_identification_id + \"' WHERE id = \" + historic_local.id + \";\" \n}\nelse if (typeof historic_remoto != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.historic VALUES('\" + historic_remoto.date + \"', \" + historic_remoto.hall + \", \" + historic_remoto.shelf + \", \" + historic_remoto.position + \", \" + historic_remoto.product_identification_id + \", \" + historic_remoto.id + \");\"\nelse\n    global.set(\"historic\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 860,
        "wires": [
            [
                "c384adeca7836140"
            ]
        ]
    },
    {
        "id": "cc75efc13177ac67",
        "type": "link in",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "state",
        "links": [
            "f6b7f86640cd2347",
            "01bed83a6b521285"
        ],
        "x": 115,
        "y": 800,
        "wires": [
            [
                "9799d8551fefb110"
            ]
        ]
    },
    {
        "id": "c384adeca7836140",
        "type": "switch",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "",
        "property": "historic",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 820,
        "wires": [
            [
                "f6b7f86640cd2347"
            ]
        ]
    },
    {
        "id": "f6b7f86640cd2347",
        "type": "link out",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "state",
        "mode": "link",
        "links": [
            "cc75efc13177ac67"
        ],
        "x": 1095,
        "y": 820,
        "wires": []
    },
    {
        "id": "9799d8551fefb110",
        "type": "function",
        "z": "253960b4a956521f",
        "g": "ede19e0e8cb47058",
        "name": "contador",
        "func": "msg.contador = global.get(\"historic\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"historic\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 800,
        "wires": [
            [
                "22d942c3a3ca292a"
            ]
        ]
    },
    {
        "id": "839cda51349b5090",
        "type": "postgresql",
        "z": "859d4550cc1262c7",
        "g": "bea096d7270b9735",
        "name": "",
        "query": "SELECT * FROM public.product_identification where \"cody_RFID\" = '{{msg.payload.tag}}';",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "70b529024ffa1fc1"
            ]
        ]
    },
    {
        "id": "70b529024ffa1fc1",
        "type": "function",
        "z": "859d4550cc1262c7",
        "g": "bea096d7270b9735",
        "name": "Verifica Cadastro no banco",
        "func": "msg.payload = msg.payload[0]\nif (typeof msg.payload != 'undefined'){\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 200,
        "wires": [
            [
                "791c0b428a90b4cf"
            ]
        ]
    },
    {
        "id": "8b1c7bf067dd13ca",
        "type": "catch",
        "z": "859d4550cc1262c7",
        "g": "3499e1a980d13d69",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 180,
        "y": 620,
        "wires": [
            [
                "6d0f972e8a05f834",
                "66a207e1a524552e"
            ]
        ]
    },
    {
        "id": "56213e3314b6b94d",
        "type": "comment",
        "z": "859d4550cc1262c7",
        "g": "3499e1a980d13d69",
        "name": "Avisos",
        "info": "",
        "x": 150,
        "y": 560,
        "wires": []
    },
    {
        "id": "6d0f972e8a05f834",
        "type": "template",
        "z": "859d4550cc1262c7",
        "g": "3499e1a980d13d69",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 330,
        "y": 620,
        "wires": [
            [
                "8a0bfc60f3741020"
            ]
        ]
    },
    {
        "id": "8a0bfc60f3741020",
        "type": "link out",
        "z": "859d4550cc1262c7",
        "g": "3499e1a980d13d69",
        "name": "status erro",
        "mode": "link",
        "links": [
            "5e9a00e22cd08307"
        ],
        "x": 565,
        "y": 620,
        "wires": []
    },
    {
        "id": "2e6a11a7edcc8c4f",
        "type": "comment",
        "z": "859d4550cc1262c7",
        "g": "f6199cad5a330556",
        "name": "Status",
        "info": "",
        "x": 150,
        "y": 340,
        "wires": []
    },
    {
        "id": "28430ff854600b8b",
        "type": "template",
        "z": "859d4550cc1262c7",
        "g": "f6199cad5a330556",
        "name": "Verificando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verificando",
        "output": "str",
        "x": 370,
        "y": 400,
        "wires": [
            [
                "8b8852b97d66701b"
            ]
        ]
    },
    {
        "id": "8b8852b97d66701b",
        "type": "link out",
        "z": "859d4550cc1262c7",
        "g": "f6199cad5a330556",
        "name": "status",
        "mode": "link",
        "links": [
            "5e9a00e22cd08307"
        ],
        "x": 505,
        "y": 400,
        "wires": []
    },
    {
        "id": "31637b7c55e4d92b",
        "type": "complete",
        "z": "859d4550cc1262c7",
        "g": "f6199cad5a330556",
        "name": "",
        "scope": [
            "1b6f6d598dd77a2c"
        ],
        "uncaught": false,
        "x": 190,
        "y": 400,
        "wires": [
            [
                "28430ff854600b8b"
            ]
        ]
    },
    {
        "id": "ef0304216c962383",
        "type": "template",
        "z": "859d4550cc1262c7",
        "g": "f6199cad5a330556",
        "name": "Verificado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verificado",
        "output": "str",
        "x": 360,
        "y": 460,
        "wires": [
            [
                "8b8852b97d66701b"
            ]
        ]
    },
    {
        "id": "a7b8f54267e5b50c",
        "type": "complete",
        "z": "859d4550cc1262c7",
        "g": "f6199cad5a330556",
        "name": "",
        "scope": [
            "791c0b428a90b4cf"
        ],
        "uncaught": false,
        "x": 190,
        "y": 460,
        "wires": [
            [
                "ef0304216c962383"
            ]
        ]
    },
    {
        "id": "5e9a00e22cd08307",
        "type": "link in",
        "z": "859d4550cc1262c7",
        "g": "78d4ebd7593f6494",
        "name": "status",
        "links": [
            "8a0bfc60f3741020",
            "8b8852b97d66701b"
        ],
        "x": 1015,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "26f996295cf2ab80",
        "type": "link in",
        "z": "859d4550cc1262c7",
        "g": "bea096d7270b9735",
        "name": "link in 3",
        "links": [
            "669a076aa6073527"
        ],
        "x": 145,
        "y": 240,
        "wires": [
            [
                "839cda51349b5090"
            ]
        ]
    },
    {
        "id": "1746ad1fdde10cf2",
        "type": "comment",
        "z": "859d4550cc1262c7",
        "g": "bea096d7270b9735",
        "name": "Verificação",
        "info": "",
        "x": 160,
        "y": 140,
        "wires": []
    },
    {
        "id": "bbcebe520b11270d",
        "type": "link in",
        "z": "859d4550cc1262c7",
        "g": "78d4ebd7593f6494",
        "name": "out 1",
        "links": [
            "791c0b428a90b4cf"
        ],
        "x": 1015,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "791c0b428a90b4cf",
        "type": "link out",
        "z": "859d4550cc1262c7",
        "g": "bea096d7270b9735",
        "name": "out 1",
        "mode": "link",
        "links": [
            "bbcebe520b11270d"
        ],
        "x": 675,
        "y": 200,
        "wires": []
    },
    {
        "id": "669a076aa6073527",
        "type": "link out",
        "z": "859d4550cc1262c7",
        "g": "3499e1a980d13d69",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "26f996295cf2ab80"
        ],
        "x": 565,
        "y": 660,
        "wires": []
    },
    {
        "id": "66a207e1a524552e",
        "type": "delay",
        "z": "859d4550cc1262c7",
        "g": "3499e1a980d13d69",
        "name": "Espera criação do banco",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 390,
        "y": 660,
        "wires": [
            [
                "669a076aa6073527"
            ]
        ]
    },
    {
        "id": "ae6a3e2562149409",
        "type": "comment",
        "z": "859d4550cc1262c7",
        "g": "78d4ebd7593f6494",
        "name": "Verifica se quem enviou a msg possue cadastro",
        "info": "",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "85336581200de9cf",
        "type": "link in",
        "z": "13140212a458ba9f",
        "g": "c47b4cecb47e8977",
        "name": "status",
        "links": [
            "e9766acb9bc4f3b8",
            "f11ac8df773e2fda"
        ],
        "x": 775,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "6fcaec52f297e4f3",
        "type": "comment",
        "z": "13140212a458ba9f",
        "g": "dfb07c49a6059b12",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 560,
        "wires": []
    },
    {
        "id": "07dca4f96fe2ea2d",
        "type": "template",
        "z": "13140212a458ba9f",
        "g": "dfb07c49a6059b12",
        "name": "Verificando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verificando",
        "output": "str",
        "x": 350,
        "y": 620,
        "wires": [
            [
                "e9766acb9bc4f3b8"
            ]
        ]
    },
    {
        "id": "e9766acb9bc4f3b8",
        "type": "link out",
        "z": "13140212a458ba9f",
        "g": "dfb07c49a6059b12",
        "name": "status",
        "mode": "link",
        "links": [
            "85336581200de9cf"
        ],
        "x": 485,
        "y": 620,
        "wires": []
    },
    {
        "id": "a358d08d2daabd19",
        "type": "complete",
        "z": "13140212a458ba9f",
        "g": "dfb07c49a6059b12",
        "name": "",
        "scope": [
            "f4694370a7d2d8bd"
        ],
        "uncaught": false,
        "x": 170,
        "y": 620,
        "wires": [
            [
                "07dca4f96fe2ea2d"
            ]
        ]
    },
    {
        "id": "b82d21ee605f46e9",
        "type": "catch",
        "z": "13140212a458ba9f",
        "g": "d6fdd678b783e58d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 780,
        "wires": [
            [
                "b120e0a18c5dfb41"
            ]
        ]
    },
    {
        "id": "f9969b521c655741",
        "type": "comment",
        "z": "13140212a458ba9f",
        "g": "d6fdd678b783e58d",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 720,
        "wires": []
    },
    {
        "id": "b120e0a18c5dfb41",
        "type": "template",
        "z": "13140212a458ba9f",
        "g": "d6fdd678b783e58d",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 780,
        "wires": [
            [
                "f11ac8df773e2fda"
            ]
        ]
    },
    {
        "id": "f11ac8df773e2fda",
        "type": "link out",
        "z": "13140212a458ba9f",
        "g": "d6fdd678b783e58d",
        "name": "status erro",
        "mode": "link",
        "links": [
            "85336581200de9cf"
        ],
        "x": 425,
        "y": 780,
        "wires": []
    },
    {
        "id": "f4694370a7d2d8bd",
        "type": "postgresql",
        "z": "13140212a458ba9f",
        "g": "16f82f8fd13c3beb",
        "name": "Local - Data do primeiro dado",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement ORDER BY id ASC LIMIT 1;",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 330,
        "y": 200,
        "wires": [
            [
                "b34dc644e4f22c0a"
            ]
        ]
    },
    {
        "id": "b34dc644e4f22c0a",
        "type": "change",
        "z": "13140212a458ba9f",
        "g": "16f82f8fd13c3beb",
        "name": "cria msg.date_inicial",
        "rules": [
            {
                "t": "set",
                "p": "date_inicial",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 200,
        "wires": [
            [
                "cd437d96cd008378"
            ]
        ]
    },
    {
        "id": "cd437d96cd008378",
        "type": "postgresql",
        "z": "13140212a458ba9f",
        "g": "16f82f8fd13c3beb",
        "name": "Local - Data do ultimo dado",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement ORDER BY id DESC LIMIT 1;",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 320,
        "y": 260,
        "wires": [
            [
                "415073ab23fd4976"
            ]
        ]
    },
    {
        "id": "415073ab23fd4976",
        "type": "change",
        "z": "13140212a458ba9f",
        "g": "16f82f8fd13c3beb",
        "name": "cria msg.date_atual",
        "rules": [
            {
                "t": "set",
                "p": "date_atual",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 260,
        "wires": [
            [
                "2134c4cc8a1cddd1"
            ]
        ]
    },
    {
        "id": "6d793e77a5515054",
        "type": "function",
        "z": "13140212a458ba9f",
        "g": "a8ac8e13e42761cf",
        "name": "Verifica datas",
        "func": "var periodo = msg.date_atual.date_time_stamp - msg.date_inicial.date_time_stamp\nvar qtd_dias = ((periodo / 1000) / 3600) / 24\n\nmsg.payload = \"\"\nvar data  = JSON.parse(JSON.stringify(msg.date_inicial))\n\nif (qtd_dias > msg.permanence_date){\n    msg.payload = \"DELETE FROM public.organic_nodes_control_measurement WHERE date_time_stamp = '\" + data.date_time_stamp +\"';\"\n    msg.queryParameters = msg.payload\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 420,
        "wires": [
            [
                "ca64184d7ccd0711"
            ]
        ]
    },
    {
        "id": "ca64184d7ccd0711",
        "type": "link out",
        "z": "13140212a458ba9f",
        "g": "a8ac8e13e42761cf",
        "name": "memoria",
        "mode": "link",
        "links": [
            "ac341ba67da2eb90"
        ],
        "x": 395,
        "y": 420,
        "wires": []
    },
    {
        "id": "62189f860f6a6b74",
        "type": "comment",
        "z": "13140212a458ba9f",
        "g": "16f82f8fd13c3beb",
        "name": "Pega datas",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "ac341ba67da2eb90",
        "type": "link in",
        "z": "13140212a458ba9f",
        "g": "16f82f8fd13c3beb",
        "name": "memoria",
        "links": [
            "ca64184d7ccd0711"
        ],
        "x": 135,
        "y": 240,
        "wires": [
            [
                "f4694370a7d2d8bd"
            ]
        ]
    },
    {
        "id": "89423a794cd2c0e1",
        "type": "comment",
        "z": "13140212a458ba9f",
        "g": "a8ac8e13e42761cf",
        "name": "Verifica  a diferença entre as datas da ultima e da primeira mensagem do banco",
        "info": "",
        "x": 360,
        "y": 360,
        "wires": []
    },
    {
        "id": "954c164c4acde5d9",
        "type": "link in",
        "z": "13140212a458ba9f",
        "g": "a8ac8e13e42761cf",
        "name": "verifica",
        "links": [
            "2134c4cc8a1cddd1"
        ],
        "x": 115,
        "y": 420,
        "wires": [
            [
                "6d793e77a5515054"
            ]
        ]
    },
    {
        "id": "2134c4cc8a1cddd1",
        "type": "link out",
        "z": "13140212a458ba9f",
        "g": "16f82f8fd13c3beb",
        "name": "verifica",
        "mode": "link",
        "links": [
            "954c164c4acde5d9"
        ],
        "x": 745,
        "y": 260,
        "wires": []
    },
    {
        "id": "61234c063bf2020a",
        "type": "comment",
        "z": "13140212a458ba9f",
        "g": "c47b4cecb47e8977",
        "name": "Mantem sempre o banco com uma quantidade fixa de dados",
        "info": "",
        "x": 260,
        "y": 60,
        "wires": []
    },
    {
        "id": "77eec103c4dbfd91",
        "type": "link out",
        "z": "f8389540c2deee90",
        "g": "cdcccaac89e68a8e",
        "name": "inserte",
        "mode": "link",
        "links": [
            "9d0968da34a5b36f",
            "bc58aad156bfa370"
        ],
        "x": 745,
        "y": 200,
        "wires": []
    },
    {
        "id": "17963425501aec2c",
        "type": "switch",
        "z": "f8389540c2deee90",
        "g": "cdcccaac89e68a8e",
        "name": "Identificação instalação",
        "property": "payload.topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Monofasico",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Bifasico",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Trifasico",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 310,
        "y": 200,
        "wires": [
            [
                "f8b8578286854c36"
            ],
            [
                "3cc27f6a0db4cedc"
            ],
            [
                "4c2c39c11c34a1ee"
            ]
        ]
    },
    {
        "id": "f8b8578286854c36",
        "type": "template",
        "z": "f8389540c2deee90",
        "g": "cdcccaac89e68a8e",
        "name": "Cria instancia Monofasico",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO public.organic_nodes_control_measurement(\n\tdate_time_stamp,\tmessage_counter,\tsetup_id,\tsource)\n\tVALUES ('{{payload.date_time_stamp}}', {{payload.message_counter}}, (SELECT id FROM public.organic_nodes_control_setup WHERE (device_id = (SELECT device_id FROM public.organic_nodes_control_mqttdevice WHERE (mqtt_access_id = (SELECT id FROM public.organic_nodes_control_mqttaccess WHERE (mqtt_id = '{{payload.id}}')))))), 0);\n\nINSERT INTO public.organic_nodes_control_frequencymeasure(\n\tfrequency,\tfrequency_sf,\tmeasurement_id)\n\tVALUES ({{payload.frequency}}, {{payload.frequency_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_sensormeasure(\n\ttemperature,\ttemperature_sf,\tmeasurement_id)\n\tVALUES ({{payload.temperature}}, {{payload.temperature_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.current_A}},{{payload.current_A_sf}},{{payload.voltage_A}},{{payload.voltage_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.voltage_current_angle_A}},{{payload.voltage_current_angle_A_sf}},{{payload.power_factor_A}},{{payload.active_power_A}}, {{payload.active_power_A_sf}}, {{payload.reactive_power_A}}, {{payload.reactive_power_A_sf}}, {{payload.apparent_power_A}}, {{payload.apparent_power_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n",
        "output": "str",
        "x": 570,
        "y": 160,
        "wires": [
            [
                "77eec103c4dbfd91"
            ]
        ]
    },
    {
        "id": "3cc27f6a0db4cedc",
        "type": "template",
        "z": "f8389540c2deee90",
        "g": "cdcccaac89e68a8e",
        "name": "Cria instancia Bifasico",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO public.organic_nodes_control_measurement(\n\tdate_time_stamp,\tmessage_counter,\tsetup_id,\tsource)\n\tVALUES ('{{payload.date_time_stamp}}', {{payload.message_counter}}, (SELECT id FROM public.organic_nodes_control_setup WHERE (device_id = (SELECT device_id FROM public.organic_nodes_control_mqttdevice WHERE (mqtt_access_id = (SELECT id FROM public.organic_nodes_control_mqttaccess WHERE (mqtt_id = '{{payload.id}}')))))), 0);\n\nINSERT INTO public.organic_nodes_control_frequencymeasure(\n\tfrequency,\tfrequency_sf,\tmeasurement_id)\n\tVALUES ({{payload.frequency}}, {{payload.frequency_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_sensormeasure(\n\ttemperature,\ttemperature_sf,\tmeasurement_id)\n\tVALUES ({{payload.temperature}}, {{payload.temperature_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.current_A}},{{payload.current_A_sf}},{{payload.voltage_A}},{{payload.voltage_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.voltage_current_angle_A}},{{payload.voltage_current_angle_A_sf}},{{payload.power_factor_A}},{{payload.active_power_A}}, {{payload.active_power_A_sf}}, {{payload.reactive_power_A}}, {{payload.reactive_power_A_sf}}, {{payload.apparent_power_A}}, {{payload.apparent_power_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.current_B}},{{payload.current_B_sf}},{{payload.voltage_B}},{{payload.voltage_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.voltage_current_angle_B}},{{payload.voltage_current_angle_B_sf}},{{payload.power_factor_B}},{{payload.active_power_B}}, {{payload.active_power_B_sf}}, {{payload.reactive_power_B}}, {{payload.reactive_power_B_sf}}, {{payload.apparent_power_B}}, {{payload.apparent_power_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_A_B}}, {{payload.angle_voltage_A_B_sf}}, '{{payload.phase_A}}{{payload.phase_B}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));",
        "output": "str",
        "x": 560,
        "y": 200,
        "wires": [
            [
                "77eec103c4dbfd91"
            ]
        ]
    },
    {
        "id": "4c2c39c11c34a1ee",
        "type": "template",
        "z": "f8389540c2deee90",
        "g": "cdcccaac89e68a8e",
        "name": "Cria instancia Trifasico",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO public.organic_nodes_control_measurement(\n\tdate_time_stamp,\tmessage_counter,\tsetup_id,\tsource)\n\tVALUES ('{{payload.date_time_stamp}}', {{payload.message_counter}}, (SELECT id FROM public.organic_nodes_control_setup WHERE (device_id = (SELECT device_id FROM public.organic_nodes_control_mqttdevice WHERE (mqtt_access_id = (SELECT id FROM public.organic_nodes_control_mqttaccess WHERE (mqtt_id = '{{payload.id}}')))))), 0);\n\nINSERT INTO public.organic_nodes_control_frequencymeasure(\n\tfrequency,\tfrequency_sf,\tmeasurement_id)\n\tVALUES ({{payload.frequency}}, {{payload.frequency_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_sensormeasure(\n\ttemperature,\ttemperature_sf,\tmeasurement_id)\n\tVALUES ({{payload.temperature}}, {{payload.temperature_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.current_A}},{{payload.current_A_sf}},{{payload.voltage_A}},{{payload.voltage_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.voltage_current_angle_A}},{{payload.voltage_current_angle_A_sf}},{{payload.power_factor_A}},{{payload.active_power_A}}, {{payload.active_power_A_sf}}, {{payload.reactive_power_A}}, {{payload.reactive_power_A_sf}}, {{payload.apparent_power_A}}, {{payload.apparent_power_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.current_B}},{{payload.current_B_sf}},{{payload.voltage_B}},{{payload.voltage_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.voltage_current_angle_B}},{{payload.voltage_current_angle_B_sf}},{{payload.power_factor_B}},{{payload.active_power_B}}, {{payload.active_power_B_sf}}, {{payload.reactive_power_B}}, {{payload.reactive_power_B_sf}}, {{payload.apparent_power_B}}, {{payload.apparent_power_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_A_B}}, {{payload.angle_voltage_A_B_sf}}, '{{payload.phase_A}}{{payload.phase_B}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_C}}', {{payload.current_C}},{{payload.current_C_sf}},{{payload.voltage_C}},{{payload.voltage_C_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_C}}', {{payload.voltage_current_angle_C}},{{payload.voltage_current_angle_C_sf}},{{payload.power_factor_C}},{{payload.active_power_C}}, {{payload.active_power_C_sf}}, {{payload.reactive_power_C}}, {{payload.reactive_power_C_sf}}, {{payload.apparent_power_C}}, {{payload.apparent_power_C_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_A_C}}, {{payload.angle_voltage_A_C_sf}}, '{{payload.phase_A}}{{payload.phase_C}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_B_C}}, {{payload.angle_voltage_B_C_sf}}, '{{payload.phase_B}}{{payload.phase_C}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));",
        "output": "str",
        "x": 560,
        "y": 240,
        "wires": [
            [
                "77eec103c4dbfd91"
            ]
        ]
    },
    {
        "id": "ba116d14e935318f",
        "type": "catch",
        "z": "f8389540c2deee90",
        "g": "0e484d38e5f89c1c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 180,
        "y": 620,
        "wires": [
            [
                "5be185ed4a70d9f6"
            ]
        ]
    },
    {
        "id": "cb2aa7372204f278",
        "type": "comment",
        "z": "f8389540c2deee90",
        "g": "0e484d38e5f89c1c",
        "name": "Avisos",
        "info": "",
        "x": 150,
        "y": 560,
        "wires": []
    },
    {
        "id": "5be185ed4a70d9f6",
        "type": "template",
        "z": "f8389540c2deee90",
        "g": "0e484d38e5f89c1c",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 330,
        "y": 620,
        "wires": [
            [
                "dad46ba99fd1b430"
            ]
        ]
    },
    {
        "id": "dad46ba99fd1b430",
        "type": "link out",
        "z": "f8389540c2deee90",
        "g": "0e484d38e5f89c1c",
        "name": "status erro",
        "mode": "link",
        "links": [
            "4861f26ce2032af4"
        ],
        "x": 435,
        "y": 620,
        "wires": []
    },
    {
        "id": "55d8c4e8c4e9aa41",
        "type": "comment",
        "z": "f8389540c2deee90",
        "g": "05e2d61024b37bea",
        "name": "Status",
        "info": "",
        "x": 150,
        "y": 340,
        "wires": []
    },
    {
        "id": "8336394eed824932",
        "type": "template",
        "z": "f8389540c2deee90",
        "g": "05e2d61024b37bea",
        "name": "Instanciando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Instanciando",
        "output": "str",
        "x": 370,
        "y": 400,
        "wires": [
            [
                "8732ebe8d63ddeb9"
            ]
        ]
    },
    {
        "id": "8732ebe8d63ddeb9",
        "type": "link out",
        "z": "f8389540c2deee90",
        "g": "05e2d61024b37bea",
        "name": "status",
        "mode": "link",
        "links": [
            "4861f26ce2032af4"
        ],
        "x": 505,
        "y": 400,
        "wires": []
    },
    {
        "id": "f754b1477a65f809",
        "type": "complete",
        "z": "f8389540c2deee90",
        "g": "05e2d61024b37bea",
        "name": "",
        "scope": [
            "17963425501aec2c"
        ],
        "uncaught": false,
        "x": 190,
        "y": 400,
        "wires": [
            [
                "8336394eed824932"
            ]
        ]
    },
    {
        "id": "1eeccfd649225533",
        "type": "template",
        "z": "f8389540c2deee90",
        "g": "05e2d61024b37bea",
        "name": "Instanciado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Instanciado",
        "output": "str",
        "x": 370,
        "y": 460,
        "wires": [
            [
                "8732ebe8d63ddeb9"
            ]
        ]
    },
    {
        "id": "d0e5d8227c710c49",
        "type": "complete",
        "z": "f8389540c2deee90",
        "g": "05e2d61024b37bea",
        "name": "",
        "scope": [
            "77eec103c4dbfd91"
        ],
        "uncaught": false,
        "x": 190,
        "y": 460,
        "wires": [
            [
                "1eeccfd649225533"
            ]
        ]
    },
    {
        "id": "80d14e70a65c002a",
        "type": "comment",
        "z": "f8389540c2deee90",
        "g": "06339746096e3fbc",
        "name": "sincronismo dados medidos",
        "info": "",
        "x": 220,
        "y": 720,
        "wires": []
    },
    {
        "id": "9d0968da34a5b36f",
        "type": "link in",
        "z": "f8389540c2deee90",
        "g": "06339746096e3fbc",
        "name": "sincronismo medições",
        "links": [
            "77eec103c4dbfd91"
        ],
        "x": 135,
        "y": 780,
        "wires": [
            [
                "1d471bcfee499090"
            ]
        ]
    },
    {
        "id": "1d471bcfee499090",
        "type": "subflow:a91be017a6b4c541",
        "z": "f8389540c2deee90",
        "g": "06339746096e3fbc",
        "name": "",
        "x": 300,
        "y": 780,
        "wires": []
    },
    {
        "id": "bc58aad156bfa370",
        "type": "link in",
        "z": "f8389540c2deee90",
        "g": "f2f2fd8e9e8c36f8",
        "name": "out 1",
        "links": [
            "77eec103c4dbfd91"
        ],
        "x": 775,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "26ffc099f00e9e52",
        "type": "comment",
        "z": "f8389540c2deee90",
        "g": "cdcccaac89e68a8e",
        "name": "Indentifica tópico",
        "info": "",
        "x": 180,
        "y": 140,
        "wires": []
    },
    {
        "id": "4861f26ce2032af4",
        "type": "link in",
        "z": "f8389540c2deee90",
        "g": "f2f2fd8e9e8c36f8",
        "name": "status",
        "links": [
            "8732ebe8d63ddeb9",
            "dad46ba99fd1b430"
        ],
        "x": 775,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "bf795e65a30a7cd8",
        "type": "comment",
        "z": "f8389540c2deee90",
        "g": "f2f2fd8e9e8c36f8",
        "name": "Instanciação",
        "info": "",
        "x": 130,
        "y": 60,
        "wires": []
    },
    {
        "id": "2d5f087542a6f18e",
        "type": "function",
        "z": "5e57673b58c0145b",
        "g": "77ef21baecfe9b42",
        "name": "Parametros",
        "func": "msg.queryParameters = msg.payload\n\nlet sinc = global.get(\"sincronizando_remoto\") || false\n\nif (sinc == false)\n    return [msg, msg];\nelse \n    return [null, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d812a27c1d316962",
        "type": "delay",
        "z": "5e57673b58c0145b",
        "g": "77ef21baecfe9b42",
        "name": "Espera atualização",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 270,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "20417b93f14f1142",
        "type": "subflow:253960b4a956521f",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "",
        "x": 330,
        "y": 680,
        "wires": []
    },
    {
        "id": "e0b6d36fbce73c31",
        "type": "link in",
        "z": "5e57673b58c0145b",
        "g": "cc3c97f3d484924b",
        "name": "status",
        "links": [
            "973a08e9e4a95398",
            "89c4c51715ad1ca5",
            "bb824a0ffadbe545"
        ],
        "x": 535,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "39fa80ac0dca8769",
        "type": "catch",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "",
        "scope": [
            "b9251ac7a1c48645"
        ],
        "uncaught": false,
        "x": 150,
        "y": 640,
        "wires": [
            [
                "b4ad654a91b02a0c",
                "20417b93f14f1142"
            ]
        ]
    },
    {
        "id": "9b95aa60873ab8a8",
        "type": "comment",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 580,
        "wires": []
    },
    {
        "id": "b4ad654a91b02a0c",
        "type": "template",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "erro sincronismo local",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro sincronismo local",
        "output": "str",
        "x": 340,
        "y": 640,
        "wires": [
            [
                "bb824a0ffadbe545"
            ]
        ]
    },
    {
        "id": "89c4c51715ad1ca5",
        "type": "link out",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "status erro",
        "mode": "link",
        "links": [
            "e0b6d36fbce73c31"
        ],
        "x": 505,
        "y": 720,
        "wires": []
    },
    {
        "id": "d3b36f0bc909ef12",
        "type": "comment",
        "z": "5e57673b58c0145b",
        "g": "2a15a8da18c3929e",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 360,
        "wires": []
    },
    {
        "id": "7a437f2f8ee57067",
        "type": "template",
        "z": "5e57673b58c0145b",
        "g": "2a15a8da18c3929e",
        "name": "Salvando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Salvando",
        "output": "str",
        "x": 340,
        "y": 420,
        "wires": [
            [
                "973a08e9e4a95398"
            ]
        ]
    },
    {
        "id": "973a08e9e4a95398",
        "type": "link out",
        "z": "5e57673b58c0145b",
        "g": "2a15a8da18c3929e",
        "name": "status",
        "mode": "link",
        "links": [
            "e0b6d36fbce73c31"
        ],
        "x": 465,
        "y": 420,
        "wires": []
    },
    {
        "id": "c29947c3e3730fa1",
        "type": "complete",
        "z": "5e57673b58c0145b",
        "g": "2a15a8da18c3929e",
        "name": "",
        "scope": [
            "2d5f087542a6f18e"
        ],
        "uncaught": false,
        "x": 170,
        "y": 420,
        "wires": [
            [
                "7a437f2f8ee57067"
            ]
        ]
    },
    {
        "id": "f5b8e46bb55cc80d",
        "type": "comment",
        "z": "5e57673b58c0145b",
        "g": "77ef21baecfe9b42",
        "name": "Adiciona os parametros de envio da mesagem para o banco",
        "info": "",
        "x": 300,
        "y": 140,
        "wires": []
    },
    {
        "id": "cfe96fcf6c863990",
        "type": "link in",
        "z": "5e57673b58c0145b",
        "g": "77ef21baecfe9b42",
        "name": "reenvio",
        "links": [
            "bb824a0ffadbe545"
        ],
        "x": 115,
        "y": 260,
        "wires": [
            [
                "d812a27c1d316962"
            ]
        ]
    },
    {
        "id": "8681a4e270278ab5",
        "type": "catch",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "",
        "scope": [
            "20af059900bfcc7d"
        ],
        "uncaught": false,
        "x": 150,
        "y": 720,
        "wires": [
            [
                "e2ad355b3e0eee47"
            ]
        ]
    },
    {
        "id": "e2ad355b3e0eee47",
        "type": "template",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "erro sincronismo remoto",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro sincronismo remoto",
        "output": "str",
        "x": 350,
        "y": 720,
        "wires": [
            [
                "89c4c51715ad1ca5"
            ]
        ]
    },
    {
        "id": "c0630573cce0cb93",
        "type": "template",
        "z": "5e57673b58c0145b",
        "g": "2a15a8da18c3929e",
        "name": "Salvo",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Salvo",
        "output": "str",
        "x": 330,
        "y": 480,
        "wires": [
            [
                "973a08e9e4a95398"
            ]
        ]
    },
    {
        "id": "fe16aafd97055df6",
        "type": "complete",
        "z": "5e57673b58c0145b",
        "g": "2a15a8da18c3929e",
        "name": "",
        "scope": [
            "20af059900bfcc7d",
            "b9251ac7a1c48645"
        ],
        "uncaught": false,
        "x": 170,
        "y": 480,
        "wires": [
            [
                "c0630573cce0cb93"
            ]
        ]
    },
    {
        "id": "3127d2befe1ccc4b",
        "type": "comment",
        "z": "5e57673b58c0145b",
        "g": "cc3c97f3d484924b",
        "name": "Salvamento das medições no banco local e remoto",
        "info": "",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "bb824a0ffadbe545",
        "type": "link out",
        "z": "5e57673b58c0145b",
        "g": "06c91221f4630677",
        "name": "reenvio",
        "mode": "link",
        "links": [
            "cfe96fcf6c863990",
            "e0b6d36fbce73c31"
        ],
        "x": 505,
        "y": 640,
        "wires": []
    },
    {
        "id": "5f42a41625dcdb8c",
        "type": "catch",
        "z": "f426d6c988933dc5",
        "g": "b010b767d7c23bae",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 140,
        "y": 560,
        "wires": [
            [
                "d4bad78f4c41e6a7"
            ]
        ]
    },
    {
        "id": "640985117de6c0e3",
        "type": "comment",
        "z": "f426d6c988933dc5",
        "g": "b010b767d7c23bae",
        "name": "Avisos",
        "info": "",
        "x": 110,
        "y": 500,
        "wires": []
    },
    {
        "id": "d4bad78f4c41e6a7",
        "type": "template",
        "z": "f426d6c988933dc5",
        "g": "b010b767d7c23bae",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 290,
        "y": 560,
        "wires": [
            [
                "37d19d03bbb11fc4"
            ]
        ]
    },
    {
        "id": "37d19d03bbb11fc4",
        "type": "link out",
        "z": "f426d6c988933dc5",
        "g": "b010b767d7c23bae",
        "name": "status erro",
        "mode": "link",
        "links": [],
        "x": 395,
        "y": 560,
        "wires": []
    },
    {
        "id": "b0f646b22feabbca",
        "type": "comment",
        "z": "f426d6c988933dc5",
        "g": "a5ad64106b5e54ef",
        "name": "Status",
        "info": "",
        "x": 110,
        "y": 280,
        "wires": []
    },
    {
        "id": "5001c9bbf40707a8",
        "type": "template",
        "z": "f426d6c988933dc5",
        "g": "a5ad64106b5e54ef",
        "name": "Atualizando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Atualizando...",
        "output": "str",
        "x": 330,
        "y": 340,
        "wires": [
            [
                "bcab0fcdf8552d21"
            ]
        ]
    },
    {
        "id": "bcab0fcdf8552d21",
        "type": "link out",
        "z": "f426d6c988933dc5",
        "g": "a5ad64106b5e54ef",
        "name": "status Atualizando",
        "mode": "link",
        "links": [
            "1dbf974df28b085c"
        ],
        "x": 465,
        "y": 340,
        "wires": []
    },
    {
        "id": "85ad84c44a545ae3",
        "type": "complete",
        "z": "f426d6c988933dc5",
        "g": "a5ad64106b5e54ef",
        "name": "",
        "scope": [
            "ebee7713480789f5",
            "45a1d08bf8bcc7fa"
        ],
        "uncaught": false,
        "x": 150,
        "y": 340,
        "wires": [
            [
                "5001c9bbf40707a8"
            ]
        ]
    },
    {
        "id": "f5da15f528c662a6",
        "type": "template",
        "z": "f426d6c988933dc5",
        "g": "a5ad64106b5e54ef",
        "name": "Finalizado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Finalizado",
        "output": "str",
        "x": 330,
        "y": 400,
        "wires": [
            [
                "bcab0fcdf8552d21"
            ]
        ]
    },
    {
        "id": "f0a8ec69618d727c",
        "type": "complete",
        "z": "f426d6c988933dc5",
        "g": "a5ad64106b5e54ef",
        "name": "",
        "scope": [
            "5f9d5f388133db24"
        ],
        "uncaught": false,
        "x": 150,
        "y": 400,
        "wires": [
            [
                "f5da15f528c662a6"
            ]
        ]
    },
    {
        "id": "1dbf974df28b085c",
        "type": "link in",
        "z": "f426d6c988933dc5",
        "g": "9b994d42ce589a4a",
        "name": "status Atualizando",
        "links": [
            "bcab0fcdf8552d21"
        ],
        "x": 995,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "11244b4ae200ab44",
        "type": "inject",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 140,
        "wires": [
            [
                "09026940208ea299"
            ]
        ]
    },
    {
        "id": "09026940208ea299",
        "type": "function",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "contador",
        "func": "msg.contador = global.get(\"checked\") | 1\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 140,
        "wires": [
            [
                "05b9ea4045c09df1"
            ]
        ]
    },
    {
        "id": "4af69bd764fb04f7",
        "type": "postgresql",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "Local",
        "query": "UPDATE public.product_identification SET checked = false WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 770,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "c71bed8de7de0a65",
        "type": "link in",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "loop",
        "links": [
            "e4a3b5e01a84e57b"
        ],
        "x": 385,
        "y": 180,
        "wires": [
            [
                "05b9ea4045c09df1"
            ]
        ]
    },
    {
        "id": "05b9ea4045c09df1",
        "type": "postgresql",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "Local",
        "query": "SELECT * from public.product_identification where id = {{msg.contador}};",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 490,
        "y": 140,
        "wires": [
            [
                "cd787bfbc24ab577",
                "5af0c25e373c681f"
            ]
        ]
    },
    {
        "id": "5af0c25e373c681f",
        "type": "function",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "Verificação",
        "func": "msg.payload = msg.payload[0]\n\nif (typeof msg.payload != 'undefined') {\n    \n    msg.contador = msg.contador + 1\n    global.set(\"checked\", msg.contador)\n    \n    return msg;\n} else{\n    msg.contador = 1\n    global.set(\"checked\", msg.contador)\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 180,
        "wires": [
            [
                "163b146b86acdcdf"
            ]
        ]
    },
    {
        "id": "e4a3b5e01a84e57b",
        "type": "link out",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "loop",
        "mode": "link",
        "links": [
            "c71bed8de7de0a65"
        ],
        "x": 965,
        "y": 180,
        "wires": []
    },
    {
        "id": "cd787bfbc24ab577",
        "type": "switch",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "",
        "property": "payload[0].checked",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 630,
        "y": 140,
        "wires": [
            [
                "4af69bd764fb04f7"
            ]
        ]
    },
    {
        "id": "163b146b86acdcdf",
        "type": "switch",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "",
        "property": "contador",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 810,
        "y": 180,
        "wires": [
            [
                "e4a3b5e01a84e57b"
            ]
        ]
    },
    {
        "id": "2aee43b30df8f472",
        "type": "comment",
        "z": "f426d6c988933dc5",
        "g": "5c24e7f291fceb2a",
        "name": "Checked",
        "info": "",
        "x": 120,
        "y": 80,
        "wires": []
    },
    {
        "id": "bab9f27e973dd65a",
        "type": "catch",
        "z": "56c8bec50d65bf74",
        "g": "3cb105d010400d7a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 580,
        "wires": [
            [
                "4c6419a8d4d61b5e"
            ]
        ]
    },
    {
        "id": "c73e0a1b6289864a",
        "type": "comment",
        "z": "56c8bec50d65bf74",
        "g": "3cb105d010400d7a",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 520,
        "wires": []
    },
    {
        "id": "4c6419a8d4d61b5e",
        "type": "template",
        "z": "56c8bec50d65bf74",
        "g": "3cb105d010400d7a",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 580,
        "wires": [
            [
                "1f690dec7748f580"
            ]
        ]
    },
    {
        "id": "1f690dec7748f580",
        "type": "link out",
        "z": "56c8bec50d65bf74",
        "g": "3cb105d010400d7a",
        "name": "status erro",
        "mode": "link",
        "links": [
            "da80cc4f99d8f9a7",
            "95f6a066c81bef9b"
        ],
        "x": 445,
        "y": 580,
        "wires": []
    },
    {
        "id": "728285aefd533576",
        "type": "comment",
        "z": "56c8bec50d65bf74",
        "g": "c7eaf5d3c5042a56",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 300,
        "wires": []
    },
    {
        "id": "712a030a73b50889",
        "type": "template",
        "z": "56c8bec50d65bf74",
        "g": "c7eaf5d3c5042a56",
        "name": "True",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "True",
        "output": "str",
        "x": 330,
        "y": 360,
        "wires": [
            [
                "75f9d34664a09f35"
            ]
        ]
    },
    {
        "id": "75f9d34664a09f35",
        "type": "link out",
        "z": "56c8bec50d65bf74",
        "g": "c7eaf5d3c5042a56",
        "name": "status",
        "mode": "link",
        "links": [
            "da80cc4f99d8f9a7",
            "95f6a066c81bef9b"
        ],
        "x": 445,
        "y": 360,
        "wires": []
    },
    {
        "id": "12ab4cb0736f0a25",
        "type": "complete",
        "z": "56c8bec50d65bf74",
        "g": "c7eaf5d3c5042a56",
        "name": "",
        "scope": [],
        "uncaught": false,
        "x": 170,
        "y": 360,
        "wires": [
            [
                "712a030a73b50889"
            ]
        ]
    },
    {
        "id": "5116d77b81a2c23e",
        "type": "template",
        "z": "56c8bec50d65bf74",
        "g": "c7eaf5d3c5042a56",
        "name": "False",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "False",
        "output": "str",
        "x": 330,
        "y": 420,
        "wires": [
            [
                "75f9d34664a09f35"
            ]
        ]
    },
    {
        "id": "1740e5b425da268b",
        "type": "complete",
        "z": "56c8bec50d65bf74",
        "g": "c7eaf5d3c5042a56",
        "name": "",
        "scope": [
            "1f662a1dd4f03c22"
        ],
        "uncaught": false,
        "x": 170,
        "y": 420,
        "wires": [
            [
                "5116d77b81a2c23e"
            ]
        ]
    },
    {
        "id": "3ed1de4499620c43",
        "type": "comment",
        "z": "56c8bec50d65bf74",
        "g": "3e704e660cb2a306",
        "name": "Verificação",
        "info": "",
        "x": 140,
        "y": 140,
        "wires": []
    },
    {
        "id": "70549bd87a7f49e7",
        "type": "comment",
        "z": "56c8bec50d65bf74",
        "g": "da4c8e5819fc89b1",
        "name": "Verifica se quem enviou a msg possue cadastro",
        "info": "",
        "x": 220,
        "y": 60,
        "wires": []
    },
    {
        "id": "309f0aae278b916b",
        "type": "postgresql",
        "z": "56c8bec50d65bf74",
        "g": "3e704e660cb2a306",
        "name": "Local",
        "query": "SELECT* from public.control WHERE id = 1;",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 290,
        "y": 200,
        "wires": [
            [
                "2bd7b50a0f475910"
            ]
        ]
    },
    {
        "id": "c6797b217302d46f",
        "type": "inject",
        "z": "56c8bec50d65bf74",
        "d": true,
        "g": "3e704e660cb2a306",
        "name": "loop",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "309f0aae278b916b"
            ]
        ]
    },
    {
        "id": "2bd7b50a0f475910",
        "type": "function",
        "z": "56c8bec50d65bf74",
        "g": "3e704e660cb2a306",
        "name": "Toma decisão",
        "func": "if (msg.payload[0].relay)\n    msg.payload = \"Carregar\"\nelse\n    msg.payload = \"RFID\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 200,
        "wires": [
            [
                "cc1f0406dc679834"
            ]
        ]
    },
    {
        "id": "95f6a066c81bef9b",
        "type": "link in",
        "z": "56c8bec50d65bf74",
        "g": "da4c8e5819fc89b1",
        "name": "status",
        "links": [
            "1f690dec7748f580",
            "75f9d34664a09f35"
        ],
        "x": 545,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "cc1f0406dc679834",
        "type": "mqtt out",
        "z": "56c8bec50d65bf74",
        "g": "3e704e660cb2a306",
        "name": "",
        "topic": "RFID",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0dcc5967b433a40b",
        "x": 630,
        "y": 200,
        "wires": []
    },
    {
        "id": "d132a9312280b552",
        "type": "comment",
        "z": "be8b47127d2dae9a",
        "g": "953868ccad299d68",
        "name": "Pega Mensagem",
        "info": "",
        "x": 160,
        "y": 140,
        "wires": []
    },
    {
        "id": "b8903dc0db54f5b2",
        "type": "subflow:4d871813abe67e19",
        "z": "be8b47127d2dae9a",
        "g": "953868ccad299d68",
        "name": "",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "d7b13b57944d9954"
            ]
        ]
    },
    {
        "id": "d7b13b57944d9954",
        "type": "subflow:700a3a6d49c04cf6",
        "z": "be8b47127d2dae9a",
        "g": "3999dab480a92ea8",
        "name": "",
        "x": 440,
        "y": 200,
        "wires": [
            [
                "2b54ca9c1ec4a5ef"
            ]
        ]
    },
    {
        "id": "5882a3c43edd54b4",
        "type": "link in",
        "z": "be8b47127d2dae9a",
        "g": "62fa4aed30d88850",
        "name": "Tratamento dos dados",
        "links": [
            "e2748eb1f75ea822"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "cba160b2e772d8bb"
            ]
        ]
    },
    {
        "id": "2b54ca9c1ec4a5ef",
        "type": "link out",
        "z": "be8b47127d2dae9a",
        "g": "3999dab480a92ea8",
        "name": "Verificação de cadastro em banco",
        "mode": "link",
        "links": [
            "b0c78809fa596dd9"
        ],
        "x": 625,
        "y": 200,
        "wires": []
    },
    {
        "id": "37aae716f0072d32",
        "type": "link out",
        "z": "be8b47127d2dae9a",
        "g": "62fa4aed30d88850",
        "name": "inserção",
        "mode": "link",
        "links": [
            "05fc6a7213ccabdd",
            "6415bba5f2cdb346"
        ],
        "x": 335,
        "y": 360,
        "wires": []
    },
    {
        "id": "f24c361803eaa7eb",
        "type": "comment",
        "z": "be8b47127d2dae9a",
        "g": "3999dab480a92ea8",
        "name": "Trata mensagem",
        "info": "",
        "x": 380,
        "y": 140,
        "wires": []
    },
    {
        "id": "0cd6b52cfa023213",
        "type": "comment",
        "z": "be8b47127d2dae9a",
        "g": "62fa4aed30d88850",
        "name": "Adiciona Data",
        "info": "",
        "x": 150,
        "y": 300,
        "wires": []
    },
    {
        "id": "d09e09fa9b3ae0e3",
        "type": "comment",
        "z": "be8b47127d2dae9a",
        "g": "c40c2e7640717537",
        "name": "Recebimento da Mensagem",
        "info": "",
        "x": 160,
        "y": 60,
        "wires": []
    },
    {
        "id": "cba160b2e772d8bb",
        "type": "function",
        "z": "be8b47127d2dae9a",
        "g": "62fa4aed30d88850",
        "name": "Date",
        "func": "/*date_time_stamp*/\nmsg.payload.date_time_stamp = new Date()\nmsg.payload = JSON.parse(JSON.stringify(msg.payload));\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 360,
        "wires": [
            [
                "37aae716f0072d32"
            ]
        ]
    },
    {
        "id": "0f952b96dec3b75b",
        "type": "comment",
        "z": "931adaceadb9568b",
        "g": "fccbce521482cb18",
        "name": "Check",
        "info": "",
        "x": 130,
        "y": 300,
        "wires": []
    },
    {
        "id": "21161b92b1a9ecc0",
        "type": "comment",
        "z": "931adaceadb9568b",
        "g": "7dd093595f58e4fd",
        "name": "Verificação de cadastro em banco",
        "info": "",
        "x": 220,
        "y": 140,
        "wires": []
    },
    {
        "id": "e2748eb1f75ea822",
        "type": "link out",
        "z": "931adaceadb9568b",
        "g": "7dd093595f58e4fd",
        "name": "Tratamento dos dados",
        "mode": "link",
        "links": [
            "5882a3c43edd54b4"
        ],
        "x": 425,
        "y": 200,
        "wires": []
    },
    {
        "id": "b0c78809fa596dd9",
        "type": "link in",
        "z": "931adaceadb9568b",
        "g": "7dd093595f58e4fd",
        "name": "Verificação de cadastro em banco",
        "links": [
            "72070532429bb061",
            "2b54ca9c1ec4a5ef"
        ],
        "x": 115,
        "y": 200,
        "wires": [
            [
                "822542a0d04da6ba"
            ]
        ]
    },
    {
        "id": "822542a0d04da6ba",
        "type": "subflow:859d4550cc1262c7",
        "z": "931adaceadb9568b",
        "g": "7dd093595f58e4fd",
        "name": "",
        "x": 270,
        "y": 200,
        "wires": [
            [
                "e2748eb1f75ea822"
            ]
        ]
    },
    {
        "id": "6415bba5f2cdb346",
        "type": "link in",
        "z": "931adaceadb9568b",
        "g": "fccbce521482cb18",
        "name": "inserção",
        "links": [
            "15cd7bec8dbe3c11",
            "37aae716f0072d32"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "13931a2e55f2f219"
            ]
        ]
    },
    {
        "id": "5bd567a3626960b8",
        "type": "comment",
        "z": "931adaceadb9568b",
        "g": "607f473bf32d81d7",
        "name": "Sincronismo",
        "info": "",
        "x": 150,
        "y": 680,
        "wires": []
    },
    {
        "id": "52adcb2c387cd386",
        "type": "comment",
        "z": "931adaceadb9568b",
        "g": "c685df0d79a580bb",
        "name": "Comunicação com Banco de dados",
        "info": "",
        "x": 180,
        "y": 60,
        "wires": []
    },
    {
        "id": "8fbbf53bba95807d",
        "type": "subflow:f426d6c988933dc5",
        "z": "931adaceadb9568b",
        "g": "68642339a807f580",
        "name": "",
        "env": [
            {
                "name": "time",
                "value": "100",
                "type": "num"
            }
        ],
        "x": 240,
        "y": 820,
        "wires": []
    },
    {
        "id": "104668f4ef3de46d",
        "type": "comment",
        "z": "931adaceadb9568b",
        "g": "68642339a807f580",
        "name": "Atualiza tags",
        "info": "",
        "x": 190,
        "y": 760,
        "wires": []
    },
    {
        "id": "13931a2e55f2f219",
        "type": "switch",
        "z": "931adaceadb9568b",
        "g": "fccbce521482cb18",
        "name": "",
        "property": "payload.checked",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 360,
        "wires": [
            [
                "732b07290594e003",
                "90cf6102c80419ee"
            ]
        ]
    },
    {
        "id": "732b07290594e003",
        "type": "postgresql",
        "z": "931adaceadb9568b",
        "g": "fccbce521482cb18",
        "name": "Local",
        "query": "UPDATE public.product_identification SET checked = true WHERE  \"cody_RFID\" = '{{msg.payload.cody_RFID}}';",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 370,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "71e61d7d76bb56f8",
        "type": "comment",
        "z": "931adaceadb9568b",
        "g": "85343d7f3a302696",
        "name": "Relé",
        "info": "",
        "x": 170,
        "y": 920,
        "wires": []
    },
    {
        "id": "ab4c138c241efa2a",
        "type": "subflow:56c8bec50d65bf74",
        "z": "931adaceadb9568b",
        "g": "85343d7f3a302696",
        "name": "",
        "x": 220,
        "y": 980,
        "wires": []
    },
    {
        "id": "a49cb9c753d95ade",
        "type": "postgresql",
        "z": "931adaceadb9568b",
        "g": "6a5b578dbaf1ed51",
        "name": "Local",
        "query": "SELECT * FROM public.historic where product_identification_id = {{msg.payload.product_id}};",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 250,
        "y": 580,
        "wires": [
            [
                "f1d3eb303754fab1"
            ]
        ]
    },
    {
        "id": "f1d3eb303754fab1",
        "type": "function",
        "z": "931adaceadb9568b",
        "g": "6a5b578dbaf1ed51",
        "name": "Verificação",
        "func": "msg.payload = msg.payload[0]\n\nif (typeof msg.payload != 'undefined') {  \n    return [msg, null];\n}\nreturn [null, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 580,
        "wires": [
            [
                "7fd4f90f1166b9b0"
            ],
            [
                "86e2159e8c2da8e6"
            ]
        ]
    },
    {
        "id": "9a3261f7202b9fda",
        "type": "change",
        "z": "931adaceadb9568b",
        "g": "6a5b578dbaf1ed51",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "geral",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 520,
        "wires": [
            [
                "a49cb9c753d95ade"
            ]
        ]
    },
    {
        "id": "7fd4f90f1166b9b0",
        "type": "postgresql",
        "z": "931adaceadb9568b",
        "g": "6a5b578dbaf1ed51",
        "name": "Local",
        "query": "UPDATE public.historic\n\tSET date='{{msg.geral.date_time_stamp}}', hall=0, shelf=0, \"position\"=0\n\twhere product_identification_id = {{msg.geral.product_id}};",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 570,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "86e2159e8c2da8e6",
        "type": "postgresql",
        "z": "931adaceadb9568b",
        "g": "6a5b578dbaf1ed51",
        "name": "Local",
        "query": "INSERT INTO public.historic(\n\tdate, hall, shelf, \"position\", product_identification_id)\n\tVALUES ('{{msg.geral.date_time_stamp}}', 0, 0, 0, {{msg.geral.product_id}});",
        "postgreSQLConfig": "67696fea5182b412",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 570,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "4d8d7b88c3ba12ed",
        "type": "comment",
        "z": "931adaceadb9568b",
        "g": "6a5b578dbaf1ed51",
        "name": "History",
        "info": "",
        "x": 130,
        "y": 460,
        "wires": []
    },
    {
        "id": "f0f8664c0ca5d7d6",
        "type": "link in",
        "z": "931adaceadb9568b",
        "g": "6a5b578dbaf1ed51",
        "name": "History",
        "links": [
            "90cf6102c80419ee"
        ],
        "x": 115,
        "y": 520,
        "wires": [
            [
                "9a3261f7202b9fda"
            ]
        ]
    },
    {
        "id": "90cf6102c80419ee",
        "type": "link out",
        "z": "931adaceadb9568b",
        "g": "fccbce521482cb18",
        "name": "History",
        "mode": "link",
        "links": [
            "f0f8664c0ca5d7d6"
        ],
        "x": 335,
        "y": 320,
        "wires": []
    }
]